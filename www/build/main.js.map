{"version":3,"sources":["../../src/pages/docs/docs.ts","../../src/providers/conllu-service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/project-service.ts","../../src/pages/annotate/annotate.ts","../../src/providers/word-service.ts","../../../../dev/conllu-dao/dist/index.js","../../../../dev/conllu-dao/dist/sentence.js","../../../../dev/conllu-dao/dist/element.js","../../src/components/selectize-popover-page/selectize-popover-page.ts","../../src/components/ma-selectize-popover-page/ma-selectize-popover-page.ts","../../src/components/tags-selector/tags-selector.ts","../../src/components/help-popover/help-popover.ts","../../src/providers/guidelines-service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../../../dev/conllu-dao/dist/document.js","../../src/components/get-form-popover/get-form-popover.ts","../../src/components/guider/guider.ts","../../src/components/concordance/concordance.ts","../../src/components/conllu-editor/conllu-editor.ts","../../src/pipes/not-multi-tag.ts","../../src/pipes/is-next-sentence.ts","../../src/providers/config-service.ts","../../src/pages/projects/projects.ts","../../../../dev/conllu-dao/dist/util.js"],"names":[],"mappings":"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C5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;ACVA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,eAAe,EAAE;AAChE,iDAAiD,eAAe,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;ACzlBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,gBAAgB;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wBAAwB;AAC3D,YAAY;AACZ;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,oCAAoC,0BAA0B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;;;;;;;;;;AChoBqD;AACM;AACC;AAM5D,IAAa,6BAA6B;IAQxC,uCAAoB,SAAoB;QACtC,qBAAqB;QACd,QAAwB;QAFjC,iBAkBC;QAlBmB,cAAS,GAAT,SAAS,CAAW;QAE/B,aAAQ,GAAR,QAAQ,CAAgB;QARjC,YAAO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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E,yBAAyB,oBAAoB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AA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,CAAC;IAEF,CAAC;AAAD,CAAC;AAvBY,oEAAU;IAJtB,SAAS,CAAC;OACa;QACtB,WAAW,EAAE,YAAY;KAC1B,CAAC;AAK0I;GAJ/H,UAAU,CAuBtB,sB;;;;;;;;ACzID;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Config, ToastController, NavController, NavParams } from 'ionic-angular';\nimport { FileUploader } from 'ng2-file-upload/ng2-file-upload';\nimport { ConlluService } from '../../providers/conllu-service';\nimport { ProjectsPage } from '../projects/projects';\nimport { AnnotatePage } from '../annotate/annotate';\nimport { ConfigService } from '../../providers/config-service';\n\n/**\n * Generated class for the DocsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-docs',\n  templateUrl: 'docs.html',\n})\nexport class DocsPage {\n\n  public uploader:FileUploader = new FileUploader({url: this.myconfig.get(\"server\")+\"conllu_upload\"});\n  public hasBaseDropZoneOver:boolean = false;\n  public hasAnotherDropZoneOver:boolean = false;\n  public project = \"\"\n  public hash = \"\"\n  public newFilename = \"\"\n  public text = \"\"\n  public list : {filename:string, firstline:string}[]= []\n  public config :string = \"\"\n\n  constructor(public navCtrl: NavController,\n  \tpublic navParams: NavParams,\n    private conlluService: ConlluService,\n    private myconfig: Config,\n    private configService: ConfigService,\n    public toastCtrl: ToastController\n  \t) {\n    if (!navParams.data.project){\n      navCtrl.setRoot(ProjectsPage)\n    }\n    else{\n      this.project = navParams.data.project;\n      this.hash = navParams.data.hash;\n    }\n    var that = this\n    this.uploader.authToken = this.project + \":\" + this.hash\n    this.uploader.onSuccessItem = function (item: any) {\n    \tthat.list.push(item.file.name)\n    }\n\n\n  \tconlluService.getList(this.project,this.hash).then((result) =>{\n  \t\tif(result.ok)\n  \t\t\tthis.list = result.files\n  \t\telse\n  \t\t\tthis.toastCtrl.create({\n\t          message: result.error,\n\t          duration: 3000,\n\t          position: \"top\"\n\t        }).present()\n  \t})\n\n    this.configService.load(this.project, this.hash).then(s=>{\n      this.config = JSON.stringify(this.configService.getConfig(this.project),null,4)\n    }).catch(x=>{\n      // this.config = JSON.stringify(this.configService.getConfig(this.project),null,4)\n    })\n  }\n\n  goto(id){\n    this.navCtrl.push(AnnotatePage,{\n      project: this.project,\n      hash: this.hash,\n    id: id,\n    })\n  }\n  remove(filename){\n  \tthis.conlluService.remove(this.project,this.hash,filename).then(s=>{\n  \t\tif(s.ok)\n  \t\t\tthis.list.splice(this.list.findIndex(x=>x.filename==filename),1)\n  \t})\n  }\n  udpipe(sentence){\n\t    var that = this\n\t  \tthis.conlluService.udpipe(this.project,this.hash,sentence,this.newFilename,this.configService.getConfig(this.project).language).then((result)=>{\n\t  \t\t\tthat.list.push({filename:result.filename,firstline:result.firstline})\n\t  \t}).catch(err=>{\n        this.toastCtrl.create({\n            message: err,\n            duration: 3000,\n            position: \"top\"\n          }).present()\n      })\n  }\n  configErrors=\"\"\n  saveConfig(){\n    try{\n      this.configService.save(this.project, this.hash,JSON.parse(this.config)).then(e=>{\n        this.toastCtrl.create({\n              message: \"Config file has been updated successfully.\",\n              duration: 3000,\n              position: \"top\"\n            }).present() ;\n        }).catch(e=>{\n        throw({message:e})\n      })\n    }\n    catch(e){\n      console.dir(e)\n      this.configErrors = e.message\n    }\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DocsPage');\n  }\n\n  public fileOverBase(e:any):void {\n    this.hasBaseDropZoneOver = e;\n  }\n\n  public fileOverAnother(e:any):void {\n    this.hasAnotherDropZoneOver = e;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/docs/docs.ts","import { Injectable } from '@angular/core';\nimport { ConfigurationService } from \"ionic-configuration-service\";\nimport { Http , Headers, RequestOptionsArgs } from '@angular/http';\nimport { RequestOptions, Request, RequestMethod} from '@angular/http';\n// import { Sentence} from '../pages/annotate/conllu';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the WordService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class ConlluService {\n\n  constructor(public http: Http,\n  \tpublic myconfig: ConfigurationService) {\n  }\n  data = {}\n  options = new RequestOptions({ withCredentials: true });\n  load(project:string, hash: string, pageid: string) {\n\t  if (this.data[project+\"-\"+pageid]) {\n\t    // already loaded data\n\t    return Promise.resolve(this.data[project+\"-\"+pageid]);\n\t  }\n\t  // don't have the data yet\n\t  return new Promise<string>((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\t //    let opts:RequestOptionsArgs = {\n\t //    \theaders : new Headers({\n\t //    \t\t'Content-Type': 'application/json; charset=utf-8',\n\t //    \t\t// 'Access-Control-Allow-Origin': 'http://localhost:8100'\n\t //    \t}),\n\t //    \t// 'body': JSON.stringify()\n\t\t// }\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"conllu_get\",{\n\t\t\t\t\"project\": project,\n\t\t\t\t\"hash\": hash,\n\t\t\t\t\"file\": pageid,\n\t\t\t\t// \"argv\": {\n\t\t\t\t// \t// \"t\": tool,\n\t\t\t\t// \t\"d\": false,\n\t\t\t\t// \t// \"align\": true,\n\t\t\t\t// \t\"strict\": true\n\t\t\t\t// }\n\t\t\t},this.options)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        // data = data;\n\t        if(data.ok){\n            //TODO view only if data.mode == \"readonly\"\n\t        \tthis.data[project+\"-\"+pageid] = data.file;\n\t        \tresolve(this.data[project+\"-\"+pageid]);\n\t        }\n\t        else{\n            console.error(data.error)\n\t        \treject(data.error)\n          }\n\t      });\n\t  });\n\t}\n\tprojects = {}\n\tgetList(project:string,hash:string, force_update:boolean = false) {\n\t  if (!force_update && this.projects[project]) {\n\t    return Promise.resolve(this.projects[project]);\n\t  }\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"conllu_list\",{\n\t\t\t\t\"project\": project,\n\t\t\t\t\"hash\": hash,\n\t\t\t},this.options)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        // data = data;\n\t        if(data.ok){\n\t        \tthis.projects[project] = data;\n\t        }\n        \tresolve(data);\n\t      });\n\t  });\n\t}\n  \tudpipe(project:string,hash:string, sentence:string,newFilename:string, language: string) {\n\t  // don't have the data yet\n\t  return new Promise<{ok:boolean, filename: string, firstline: string, error: string}>((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+'conllu_udpipe', {\n\t     \ttokenizer: true,\n\t     \ttagger: true,\n\t\t\t\"project\": project,\n\t\t\t\"hash\": hash,\n\t     \tsentence: sentence,\n\t     \tmodel: language,\n\t     \tnewFilename: newFilename,\n\t     },this.options)\n\t      .map(res => res.json())\n\t      .subscribe((data) => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        if(data.ok)\n\t        \tresolve(data);\n\t        else\n\t        \treject(data.error)\n\t      });\n\t  });\n\t}\n\tsave(project:string, hash: string, pageid: string, file: string) {\n\t  // don't have the data yet\n\t  return new Promise<any>((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\t //    let opts:RequestOptionsArgs = {\n\t //    \theaders : new Headers({\n\t //    \t\t'Content-Type': 'application/json; charset=utf-8',\n\t //    \t\t// 'Access-Control-Allow-Origin': 'http://localhost:8100'\n\t //    \t}),\n\t //    \t// 'body': JSON.stringify()\n\t\t// }\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+'conllu_save',{\n\t\t\t\t\"project\": project,\n\t\t\t\t\"hash\": hash,\n\t\t\t\t\"pageid\": pageid,\n\t\t\t\t\"data\" : file\n\t\t\t},this.options)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        if(data.ok){\n            this.data[project+\"-\"+pageid] = file\n            if(this.projects[project])\n              this.projects[project].files.find(x=>x.filename==pageid).firstline = file.split(\"\\n\")[0]\n        \t\tresolve(data);\n          }\n        \telse\n        \t\treject(data.error)\n\t      });\n\t  });\n\t}\n\tremove(project:string, hash: string, pageid: string) {\n\t  // don't have the data yet\n\t  return new Promise<any>((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\t //    let opts:RequestOptionsArgs = {\n\t //    \theaders : new Headers({\n\t //    \t\t'Content-Type': 'application/json; charset=utf-8',\n\t //    \t\t// 'Access-Control-Allow-Origin': 'http://localhost:8100'\n\t //    \t}),\n\t //    \t// 'body': JSON.stringify()\n\t\t// }\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+'conllu_remove',{\n\t\t\t\t\"project\": project,\n\t\t\t\t\"hash\": hash,\n\t\t\t\t\"pageid\": pageid,\n\t\t\t},this.options)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        console.log(data)\n\t        // data = data;\n\t        if(data.ok)\n        \t\tresolve(data);\n        \t// else\n        \t// \treject(data.error)\n\t      });\n\t  });\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/conllu-service.ts","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 117;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 117\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 159;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 159\n// module chunks = 0","import { Injectable } from '@angular/core';\n// import { Config } from 'ionic-angular';\nimport { ConfigurationService } from \"ionic-configuration-service\";\nimport { Http , Headers, RequestOptionsArgs,RequestOptions, Request, RequestMethod } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the WordService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class ProjectService {\n\n  options = new RequestOptions({ withCredentials: true });\n  constructor(public http: Http,\n  \tpublic myconfig: ConfigurationService) {\n  }\n  data = {}\n  username : null|string = null\n  _list : {ok:boolean,projects:string[],error:string}= {ok:false,projects:[],error:\"Not laoded yet.\"}\n  list() {\n    if (this._list.ok) {\n      return Promise.resolve(this._list);\n    }\n    // don't have the data yet\n    return new Promise((resolve,reject) => {\n       this.http.post(this.myconfig.getValue(\"server\")+\"projects_list\",{\n        },this.options)\n\n       .map(res => res.json())\n        .subscribe(data => {\n          // we've got back the raw data, now generate the core schedule data\n          // and save the data for later reference\n          console.log(data)\n          // data = data;\n          if(data.ok){\n            this.username = data.username\n            this._list = data;\n            resolve(data);\n          }\n          else\n            reject(data.error)\n        },error=>{\n          if(error.status != 200)\n            reject(\"Server is not working properly. url=\"+this.myconfig.getValue(\"server\"))\n        })\n\n    });\n  }\n  login(username,password) {\n    // don't have the data yet\n    return new Promise((resolve,reject) => {\n       this.http.post(this.myconfig.getValue(\"server\")+\"users_login\",{username:username,password:password\n        },this.options)\n       .map(res => res.json())\n        .subscribe(data => {\n          // we've got back the raw data, now generate the core schedule data\n          // and save the data for later reference\n          console.log(data)\n          // data = data;\n          if(data.ok){\n            this.username = username;\n            resolve(data);\n          }\n          else\n            reject(data.error)\n        },error=>{\n          if(error.status != 200)\n            reject(\"Server is not working properly. url=\"+this.myconfig.getValue(\"server\"))\n        })\n    });\n  }\n\tlogout() {\n\t  // don't have the data yet\n    this.username = null\n    this._list = {ok:false,projects:[],error:\"Not laoded yet.\"}\n\t  return new Promise((resolve,reject) => {\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"users_logout\",{\n        },this.options)\n\t     .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        // console.log(data)\n\t        // data = data;\n\t        if(data.ok){\n            resolve(data);\n\t        }\n          else\n            reject(data.error)\n\t      },error=>{\n          if(error.status != 200)\n            reject(\"Server is not working properly. url=\"+this.myconfig.getValue(\"server\"))\n        })\n\t  });\n\t}\n\tcreate(project: string) {\n\t  // var this = this\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"projects_create\",{\n\t\t\t\t// \"security\": security,\n\t\t\t\t\"project\": project,\n        },this.options)\n\t      .map(res => res.json())\n\t      .subscribe((data:{ok:boolean,hash:string,project:string,error:string}) => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n        \tresolve(data);\n\t      });\n\t  });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/project-service.ts","import { Renderer, Component, Output, Input, ViewChild, EventEmitter, Directive } from '@angular/core';\nimport { Events, ToastController, RadioGroup, AlertButton, AlertController, LoadingController, PopoverController, NavController, NavParams } from 'ionic-angular';\n// import { InAppBrowser } from '@ionic-native/in-app-browser';\n\nimport { WordService } from '../../providers/word-service';\nimport { ConlluService } from '../../providers/conllu-service';\nimport { ConfigService, ConfigJSON} from '../../providers/config-service';\n// import { GuidelinesService } from '../../providers/guidelines-service';\nimport { SelectizePopoverPageComponent } from '../../components/selectize-popover-page/selectize-popover-page';\nimport { MASelectizePopoverPageComponent } from '../../components/ma-selectize-popover-page/ma-selectize-popover-page';\n// import { SegmentorPopoverPageComponent } from '../../components/segmentor-popover-page/segmentor-popover-page';\nimport { TagsSelectorComponent } from '../../components/tags-selector/tags-selector';\n// import { HighlightComponent } from '../../components/highlight/highlight';\n// import { GetFormPopoverComponent } from '../../components/get-form-popover/get-form-popover';\n// import { GuiderComponent } from '../../components/guider/guider';\nimport { HelpPopoverComponent } from '../../components/help-popover/help-popover';\nimport { DocsPage } from '../docs/docs';\nimport { ProjectsPage } from '../projects/projects';\nimport { ConlluDocument, ConlluSentence, ConlluElement } from 'conllu-dao'\nimport 'rxjs/add/operator/map'\n\n\n/*\n  Generated class for the Annotate page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-annotate',\n  templateUrl: 'annotate.html',\n  // changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AnnotatePage {\n\n  /*\n  Tags bar\n  */\n  // @Output() public myEventEmitted: EventEmitter<any> = new EventEmitter();\n  tagsRow = 0;\n  done=false\n  config = new ConfigJSON()\n  // sentenceTags: { tag: string, desc: string, fn: number }[] = null\n\n  @ViewChild('lemma') lemmaGroup: RadioGroup;\n\n  // conllu : ConllU = new ConllU().Document();\n  log = \"\";\n  doc= null;\n  documentJson = {}\n  project = \"\"\n  hash = \"\"\n  pageid = \"\"\n  editable = false\n  // isConlluHidden = false\n  copyElement = null\n  @ViewChild('myTags') myTags: TagsSelectorComponent;\n  // @ViewChild('conllu-editor') conlluEditor: ConlluEditorComponent;\n\n  highlight: Highlight = new Highlight(this.events);\n\n  _conlluRaw = `1-3 وعنها   _   _   _   _   _   _   _   _\n1   وَ  _   conj    conj    _   0   _   _   ANALSIS#=1/1|TOOL=MA|ID=1-0\n2   عَنها   عَن_1   prep    prep    _   0   _   _   ANALSIS#=1/1|TOOL=MA|ID=1-1\n3   _   _   3fs_pron    3fs_pron    _   0   _   _   ANALSIS#=1/1|TOOL=MA|ID=1-2\n`\n  get conlluRaw(){\n    return this._conlluRaw\n  }\n  set conlluRaw(argv){\n    this._conlluRaw = argv\n    this.log = \"\"\n    // console.log(\"Here\",this.conlluRaw)\n    let that = this\n\n    this.doc.parse(this.conlluRaw, function(s) {\n      that.log = that.log + s + '\\n';\n    }, false)//.toBrat(logger, true);\n    // if(typeof highlightRef  == \"string\")\n      // this.highlightElement(highlightRef)\n\n    if(this.config.askMA)\n      this.askMA()\n    if(this.config.askMemMA)\n      this.askMemMA()\n    // console.log(JSON.parse(JSON.stringify(this.doc)))\n    this.highlightElement(this.highlight.ref)\n  }\n  stats = new Stats(this.events)\n\n  constructor(public navCtrl: NavController,\n    private popoverCtrl: PopoverController,\n    public navParams: NavParams,\n    // public data: Data,\n    // public http: Http,\n    public renderer:Renderer,\n    public events: Events,\n    private wordservice: WordService,\n    private conlluService: ConlluService,\n    private configService: ConfigService,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController) {\n\n    let loading = this.loadingCtrl.create({\n      content: 'Loading...'\n    });\n\n    loading.present();\n\n    if (!navParams.data.project){\n      //TODO change\n      console.log(\"invalid params: \",navParams.data)\n      navCtrl.setRoot(ProjectsPage)\n    }\n    else{\n      this.project = navParams.data.project;\n      this.hash = navParams.data.hash;\n      if(navCtrl.getViews().length==0)\n        navCtrl.insert(1,DocsPage,{\n          project : this.project,\n          hash : this.hash\n        })\n    }\n\n    // on highlight change, scroll the ConllU Raw view and the main words view to proper location\n    this.events.subscribe(\"highlight:change\", (element,scrollToConllRaw=true,scrollToElement=true)=>{\n      // if(scrollToConllRaw)\n        // setTimeout(() => {\n        //   let highlight_element : any = document.querySelector(\"pre > .highlight\");\n        //   if(highlight_element){\n        //     document.querySelector(\"pre\").scrollTo(0, highlight_element.offsetTop-100)\n        //   }\n        // })\n\n      if(scrollToElement)\n        setTimeout(() => {\n          var sa: any = document.querySelector(\"#sentences\")\n          var ea: any = document.querySelector(\"#sentences .element.highlight\")\n          if(ea && sa)\n            sa.scrollTop = ea.offsetTop - sa.offsetTop - 150\n        }, 100)\n\n    })\n\n    if (!navParams.data.id && navCtrl.length() >1){\n      navCtrl.pop();\n    }\n    else{\n      this.pageid = navParams.data.id;\n    }\n\n    Promise.all([this.configService.load(this.project, this.hash),this.conlluService.load(this.project, this.hash, this.pageid)])\n    .then(arr=>{\n      loading.dismiss();\n      this.config = arr[0]//this.configService.getConfig(this.project)\n      if(this.myTags)\n        this.myTags.config = this.config\n      this.doc = new ConlluDocument(this.config)\n      this.conlluRaw = arr[1].trim();\n      this.done = /(\\n|^)# done/.test(this.conlluRaw)\n      let match = this.conlluRaw.match(/^# (?:done|notdone).*\\|highlight=([^\\|\\n]*)/)\n\n      setTimeout(()=>{\n        if(navParams.data.position){\n          console.log(\"here\",navParams.data.position)\n          this.highlightElement(navParams.data.position.replace(\"-\",\":\"))\n        }\n        else if(match)\n          this.highlightElement(match[1])\n        else\n          this.highlightElement('S1:1')\n      })\n    }).catch(x=>{\n      this.toastCtrl.create({\n          message: 'Conllu File loading Error: ' + x,\n          duration: 3000,\n          position: \"top\"\n        }).present()\n      console.error('Conllu File loading Error: ' + x)\n      console.trace(x)\n      loading.dismiss()\n    });\n  }\n  logme(x){console.log(x)}\n  ngOnInit() {\n    // this.config = this.configService.getConfig(this.project)\n    // console.log('ngAfterViewInit AnnotatePage');\n    // this.renderer.invokeElementMethod(document.querySelector(\".highlight\"), 'focus', []);\n  }\n  preventKeyboard = false\n  // presentSegmentorFormPopover() {\n  //   var popover = this.popoverCtrl.create(SegmentorPopoverPageComponent, {\n  //     element: this.highlight.element,\n  //     config: this.config\n  //   });\n  //   this.preventKeyboard = true\n  //   popover.present({\n  //   });\n  //   popover.onDidDismiss(()=>{\n  //     this.preventKeyboard = false\n  //     this.saveForUndo()\n  //   })\n  // }\n  showAlertMessage = false;\n\n  addNote(event=null) {\n    if(event)\n      event.preventDefault()\n    let prompt = this.alertCtrl.create({\n      title: 'Note',\n      message: \"Please enter the note to be saved on the element. Old message is: \"+(this.highlight.element._miscs[\"NOTE\"] || \"Nothing\"),\n      inputs: [\n        {\n          name: 'note',\n          placeholder: 'Title',\n          value: this.highlight.element._miscs[\"NOTE\"]\n        },\n      ],\n      buttons: [\n        {\n          text: 'Save',\n          handler: data => {\n            this.highlight.element._miscs[\"NOTE\"] = data.note.replace(/ /g,\"_\")\n            this.syncConllU()\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  highlightElement(highlightRef='S1:1') {\n    highlightRef = highlightRef.replace(/^(S[0-9]+:[0-9]+)-[0-9]+$/,\"$1\")\n    if(!/^S[0-9]+:[0-9]+$/.test(highlightRef)){\n      console.error(\"HighlightRef is not standard\",highlightRef)\n      highlightRef = 'S1:1'\n    }\n\n    let elem = this.doc.getElement(highlightRef)\n    if(elem)\n      this.events.publish('highlight:change', elem)\n    else{\n      console.error(\"highlighted non existing element\",highlightRef)\n      this.highlightElement()\n    }\n  }\n  search(event=null) {\n    if(event)\n      event.preventDefault()\n    let prompt = this.alertCtrl.create({\n      title: 'Search',\n      message: \"Show previous taggings in corpus\",\n      inputs: [\n        {\n          name: 'form',\n          placeholder: 'Word Form'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Search',\n          handler: data => {\n            this.wordservice.askMemMA(data.form,this.config)\n           .then((elements: ConlluElement[][]) => {\n             this.viewElementsPopup(elements[0],null)\n            }).catch(s=>{\n             this.toastCtrl.create({\n                message: 'Error: ' + s,\n                duration: 3000,\n                position: \"top\"\n              }).present()\n            console.error('Error: ' + s)\n           })\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  searchResults = []\n  last_cretiera : any = {}\n\n  find(event=null){\n    if(event)\n      event.preventDefault()\n    let prompt = this.alertCtrl.create({\n      title: 'Find',\n      message: \"Find an element within this document\",\n      inputs: [\n        {\n          name: 'form',\n          placeholder: 'Word Form',\n          value: this.last_cretiera.form\n        },\n        {\n          name: 'xpos',\n          placeholder: 'XPOS tag',\n          value: this.last_cretiera.xpos\n        },\n        {\n          name: 'upos',\n          placeholder: 'UPOS tag',\n          value: this.last_cretiera.upos\n        },\n        {\n          name: 'feats',\n          placeholder: 'Feat=Val',\n          value: this.last_cretiera.feats\n        },\n        {\n          name: 'misc',\n          placeholder: 'Misc=Val',\n          value: this.last_cretiera.misc\n        },\n\n        {\n          name: 'lemma',\n          placeholder: 'Lemma',\n          value: this.last_cretiera.lemma\n        },\n      ],\n    });\n    if(this.copyElement)\n      prompt.addButton({\n          text: 'Find and Replace All',\n          role: 'destructive',\n          handler: cretiera => {\n              this.last_cretiera = JSON.parse(JSON.stringify(cretiera))\n              if(!this.copyElement){\n                 this.toastCtrl.create({\n                  message: 'No copied element',\n                  duration: 1000\n                }).present()\n              }\n              else {\n                this.searchResults = this.doc.find(cretiera)\n                this.searchResults.forEach(e=>{\n                  if(e==this.copyElement || e.parent==this.copyElement)\n                    return\n                  if(this.copyElement.isMultiword){\n                    let c= e.changeWith(this.copyElement)\n                    c._miscs[\"FROM\"]=\"PASTE\"\n                  }\n                   else\n                     e.copy(this.copyElement)\n                })\n              }\n          }\n        })\n    prompt.addButton({\n      text: 'Find All',\n      handler: cretiera => {\n          this.last_cretiera = JSON.parse(JSON.stringify(cretiera))\n          this.searchResults = this.doc.find(cretiera)\n          if(this.searchResults.length === 0){\n            this.toastCtrl.create({\n              message: 'No results were found',\n              duration: 1000\n            }).present()\n          }\n          else {\n            this.viewElementsPopup(this.searchResults,null)\n          }\n      }\n    });\n    prompt.addButton({\n      text: 'Find All (Unique)',\n      handler: cretiera => {\n          this.last_cretiera = JSON.parse(JSON.stringify(cretiera))\n          let uniq = {}\n          this.searchResults = this.doc.find(cretiera).filter(e=>{\n            if(uniq[e.toConllU(false)]===undefined){\n              uniq[e.toConllU(false)] = true\n              return true\n            }\n            return false\n          })\n          if(this.searchResults.length === 0){\n            this.toastCtrl.create({\n              message: 'No results were found',\n              duration: 1000\n            }).present()\n          }\n          else {\n            this.viewElementsPopup(this.searchResults,null)\n          }\n      }\n    });\n    prompt.addButton({\n      text: 'Find Next',\n      handler: cretiera => {\n          this.last_cretiera = JSON.parse(JSON.stringify(cretiera))\n          this.searchResults = this.doc.find(cretiera)\n          if(this.searchResults.length === 0){\n            this.toastCtrl.create({\n              message: 'No results were found',\n              duration: 1000\n            }).present()\n          }\n          else {\n            if(this.highlight.element)\n              this.highlight.element = this.doc.sentences[0].elements[0]\n            this.find_next(event)\n          }\n      }\n    });\n    prompt.present();\n  }\n\n  wasReversed = false\n  find_next(event=null,backward=false){\n    if(event)\n      event.preventDefault()\n    if(this.highlight.element==null)\n      return\n    if(backward && !this.wasReversed || !backward && this.wasReversed){\n      this.wasReversed = ! this.wasReversed\n      this.searchResults.reverse() // warning in-place\n    }\n    let r = this.searchResults.find(e=>{\n      if(!backward && e.sentence._id < this.highlight.element.sentence._id)\n        return false\n      if(!backward && e.sentence._id == this.highlight.element.sentence._id && parseInt(e._id) <= parseInt(this.highlight.element._id))\n        return false\n      if(backward && e.sentence._id > this.highlight.element.sentence._id)\n        return false\n      if(backward && e.sentence._id == this.highlight.element.sentence._id && parseInt(e._id) >= parseInt(this.highlight.element._id))\n        return false\n      return true\n    })\n    if(!r)\n        return this.toastCtrl.create({\n          message: 'No more results were found',\n          duration: 1000\n        }).present()\n    // if(r.isMultiword)\n    //   r = r.children[0]\n\n    this.events.publish('highlight:change', r);\n  }\n\n  ionViewCanLeave() {\n    if(this.showAlertMessage) {\n        let alertPopup = this.alertCtrl.create({\n            title: 'Exit',\n            message: 'Changes are not saved. Are you sure?',\n            buttons: [{\n                    text: 'Exit',\n                    handler: () => {\n                      this.showAlertMessage = false;\n                      this.navCtrl.pop();\n                    }\n                },\n                {\n                    text: 'Stay',\n                    handler: () => {\n                        // need to do something if the user stays?\n                    }\n                }]\n        });\n\n        // Show the alert\n        alertPopup.present();\n\n        // Return false to avoid the page to be popped up\n        return false;\n    }\n}\n\n\n  presentSelectizeFormPopover() {\n    let options = Object.keys(this.config.mf).filter(x=>this.config.MfVsPos[x].indexOf(this.config.MfVsPos_upostag ? this.highlight.element.upostag : this.highlight.element.xpostag) >= 0)\n    if(options.length > 0 ){\n      let popover = this.popoverCtrl.create(SelectizePopoverPageComponent, {\n        element: this.highlight.element,\n        config: this.config,\n        options: options\n      },{cssClass:\"selectizePopover\"})//,enableBackdropDismiss:false});\n\n      this.preventKeyboard = true\n      popover.present({\n      })\n      popover.onDidDismiss(x=>{\n        this.preventKeyboard = false\n        this.saveForUndo()\n      })\n    }\n    else{\n     this.toastCtrl.create({\n        message: 'No morphological features is needed for this tag: ' + this.config.getXPosTag(this.highlight.element.xpostag).desc,\n        duration: 3000,\n        position: \"top\"\n      }).present()\n   }\n  }\n\n  presentHelpFormPopover() {\n\n    var popover = this.popoverCtrl.create(HelpPopoverComponent, {\n      config: this.config,\n      project : this.project,\n      hash : this.hash\n    },{cssClass:\"helpPopover\"});\n\n    popover.present({\n    })\n  }\n  mouseClick(e) {\n    this.events.publish(\"stats\",{action:\"mouse\",element:e})\n  }\n  keyboardShortcuts(e) {\n    console.log(e)\n    var highlighNode : any = document.querySelector(\".highlight\")\n    if (e.target != document.querySelector(\"body\")\n      && e.target && e.target.className.indexOf(\"element\") == -1\n      // && e.target && e.target.parentNode && highlighNode && e.target.parentNode.parentNode != highlighNode.parentNode.parentNode\n      ){\n      if(e.code == \"Escape\"){\n        this.events.publish(\"stats\",{action:\"keyboard\",event:e})\n        if(highlighNode)\n          this.renderer.invokeElementMethod(highlighNode, 'focus', []);\n      }\n      return\n    }\n    if (this.preventKeyboard)\n      return\n    if(!this.config)\n      return false\n    if(e.code == \"Escape\")\n      this.copyElement = false\n\n    var action = this.config.keyboardShortcuts\n      .filter(v=>{\n        return (v.code == e.code) &&\n               // (v.key!=undefined && v.key == e.key) &&\n               ((v.metaKey==true) == e.metaKey) &&\n               ((v.shiftKey==true) == e.shiftKey) &&\n               ((v.altKey==true) == e.altKey) &&\n               ((v.ctrlKey==true) == e.ctrlKey) &&\n               true\n      })\n    if(action.length == 1){\n      this.events.publish(\"stats\",{action:\"keyboard\",event:e, code:action})\n      this.doAction(action[0].action, action[0].params,e)\n    }\n    else\n      this.events.publish(\"stats\",{action:\"keyboard\",event:e})\n  }\n  tag_morphofeatures(e=null){\n        this.showAlertMessage = true;\n        this.events.publish(\"stats\",{action:\"tag_morphofeatures\",element:this.highlight.element})\n        this.presentSelectizeFormPopover()\n        if(e) e.preventDefault();\n  }\n  redo(e=null){\n        var x = this.redoArr.pop()\n        if(!x){\n          console.warn(\"nothing to redo.\")\n          return false\n        }\n        this.undoArr.push(this.conlluRaw)\n        this.conlluRaw = x;\n\n        if(e) e.preventDefault();\n  }\n  undo(e=null){\n         var x = this.undoArr.pop()\n        if(!x){\n          console.warn(\"nothing to undo.\",x)\n          return false\n        }\n        this.redoArr.push(this.conlluRaw)\n        this.conlluRaw = x;\n\n        if(e) e.preventDefault();\n  }\n  copy(e=null){\n    if(e)\n      e.preventDefault()\n      this.copyElement = this.highlight.element\n  }\n  copyParent(e=null){\n    if(e)\n      e.preventDefault()\n    this.copyElement = this.highlight.element.parent\n  }\n  paste(e=null){\n      if(!this.copyElement)\n        return\n      if(this.copyElement.isMultiword){\n          let c= this.highlight.element.changeWith(this.copyElement)\n          c._miscs[\"FROM\"]=\"PASTE\"\n          this.events.publish('highlight:change', c);\n      }\n      else\n          this.highlight.element.copy(this.copyElement)\n  }\n  pasteMorphInfo(e=null){\n      if(this.copyElement)\n          this.highlight.element.copyMorphInfo(this.copyElement)\n  }\n  new_sentence(e=null){\n      //TODO: this should be moved to conllu.ts\n            if (!this.highlight.element)\n          return;\n        this.showAlertMessage = true;\n        var sindex = this.doc.sentences.indexOf(this.highlight.sentence)\n        var eindex = this.highlight.sentence.elements.indexOf(this.highlight.element)\n\n        // check if last segment\n        if (this.highlight.sentence.elements[eindex + 1]\n          && this.highlight.element.parent != null\n          && this.highlight.element.parent == this.highlight.sentence.elements[eindex + 1].parent){\n          //TODO show warning\n          return;\n        }\n\n        var before = this.highlight.sentence.elements.slice(0, eindex + 1)\n        var after = this.highlight.sentence.elements.slice(eindex + 1)\n        if (after.length == 0) {\n          // do reverse. join with next sentence\n          if (!this.doc.sentences[sindex + 1])\n            return\n          after = this.doc.sentences[sindex + 1].elements\n\n          after.forEach(e => {\n            e.sentence = this.highlight.sentence\n          })\n          this.highlight.sentence.elements = this.highlight.sentence.elements.concat(after);\n          this.doc.sentences.splice(sindex + 1, 1)\n          this.highlight.sentence.refix(true)\n          this.doc.fixSentenceIds()\n        }\n        else {\n          // sentence should be splitted\n          this.highlight.sentence.elements = before;\n\n          //re count the second sentence\n          let counter = 1;\n          after.forEach(e => {\n            if (!e.isMultiword)\n              e.id = \"\" + counter++;\n            else {\n              var arr = e.id.split(\"-\")\n              e.id = counter + \"-\" + (counter + parseInt(arr[1]) - parseInt(arr[0]))\n            }\n          })\n          var sent = new ConlluSentence(\"new\", after, [],this.doc)\n          this.doc.sentences.splice(sindex + 1, 0, sent)\n          this.doc.fixSentenceIds()\n          // console.log(this.doc)\n        }\n        this.saveForUndo()\n      }\n  clone(e=null){\n      //TODO: this should be moved to conllu.ts\n    if (!this.highlight.element)\n          return\n    //TODO FIX many things\n    var eindex = this.highlight.sentence.elements.indexOf(this.highlight.element)\n\n    var el = this.highlight.element.clone()\n\n    this.highlight.sentence.elements.splice(eindex + 1, 0, el)\n\n    if (this.highlight.element.parent) {\n      el.parent = this.highlight.element.parent\n      el.parent.children.push(el)\n      var arr = this.highlight.element.parent.id.split(\"-\")\n      el.parent.id = arr[0] + \"-\" + (parseInt(arr[1]) + 1)\n    }\n    else {\n      var parent = new ConlluElement([parseInt(this.highlight.element.id) + \"-\" + (parseInt(this.highlight.element.id) + 1), this.highlight.element.form,\n        \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\"], this.highlight.element.lineidx, this.highlight.element.line,this.highlight.sentence)\n      parent.analysis = this.highlight.element.analysis\n      el.analysis = []\n      this.highlight.sentence.elements.splice(eindex, 0, parent)\n      el.parent = parent;\n      el.parent.children = [el,this.highlight.element]\n      this.highlight.element.parent = parent\n    }\n    // var counter = 1;\n    // this.highlight.sentence.elements.forEach(e => {\n    //   if (!e.isMultiword)\n    //     e.id = \"\" + counter++;\n    //   else {\n    //     var arr = e.id.split(\"-\")\n    //     e.id = counter + \"-\" + (counter + parseInt(arr[1]) - parseInt(arr[0]))\n    //   }\n    // })\n    this.highlight.sentence.refix();\n    this.saveForUndo()\n  }\n  mark_misc(key,e) {\n    this.showAlertMessage = true;\n    this.highlight.element._miscs[key] = ! this.highlight.element._miscs[key]\n    this.saveForUndo()\n  }\n  delete(e) {\n      //TODO: this should be moved to conllu.ts\n    if (!this.highlight.element)\n          return;\n    var eindex = this.highlight.sentence.elements.indexOf(this.highlight.element)\n\n    //cannot delete whole word\n    if (!this.highlight.element.parent)\n      return\n    this.highlight.sentence.elements.splice(eindex, 1)\n\n    var parent = this.highlight.element.parent\n    var arr = parent.id.split(\"-\")\n\n    //if it becomes one segment.. delete multiword line\n    if (arr[0] == (parseInt(arr[1]) - 1) + \"\") {\n      var mlindex = this.highlight.sentence.elements.indexOf(parent)\n      this.highlight.sentence.elements.splice(mlindex, 1)\n      this.highlight.element.parent = null\n    }\n    else\n      parent.id = arr[0] + \"-\" + (parseInt(arr[1]) - 1)\n\n    var counter = 1;\n    this.highlight.sentence.elements.forEach(e => {\n      if (!e.isMultiword)\n        e.id = \"\" + counter++;\n      else {\n        var arr = e.id.split(\"-\")\n        e.id = counter + \"-\" + (counter + parseInt(arr[1]) - parseInt(arr[0]))\n      }\n    })\n    this.events.publish('highlight:change', this.highlight.sentence.elements[eindex]);\n    // this.highlight.element = this.highlight.sentence.elements[eindex]\n    this.saveForUndo()\n   }\n\n  tag_ma(analyses: ConlluElement[] =[],e) {\n      let el = this.highlight.element.parent || this.highlight.element\n      if(analyses.length==0)\n        analyses=el.analysis//.filter((e,i)=>! this.viewMode || e._miscs[\"DOCID\"]!==this.pageid && e._miscs[\"DOCID\"]!==undefined)\n\n      if(analyses){\n        var popover = this.popoverCtrl.create(MASelectizePopoverPageComponent, {\n          element: el,\n          analyses: analyses,\n          hash: this.hash,\n          mode: \"change\",\n          project: this.project,\n          config: this.config\n        },{cssClass:\"selectizePopover\"})\n        popover.present({})\n        this.preventKeyboard = true\n        popover.onDidDismiss(()=>{\n          this.preventKeyboard = false\n          this.saveForUndo()\n        })\n      }\n      else{\n       this.toastCtrl.create({\n          message: 'No Analysis Found for this word: ' + el.form,\n          duration: 3000,\n          position: \"top\"\n        }).present()\n      }\n      this.events.publish(\"stats\",{action:\"tag_ma\",element:this.highlight.element})\n      this.showAlertMessage = true;\n  }\n  viewElementsPopup(analyses : ConlluElement[] = [], e=null) {\n      if(analyses.length !== 0){\n        var popover = this.popoverCtrl.create(MASelectizePopoverPageComponent, {\n          analyses: analyses,\n          hash: this.hash,\n          project: this.project,\n          mode: \"view\",\n          config: this.config\n        },{cssClass:\"selectizePopover\"})\n        popover.present({})\n        this.preventKeyboard = true\n        popover.onDidDismiss(()=>{\n          this.preventKeyboard = false\n          // this.saveForUndo()\n        })\n      }\n      else{\n       this.toastCtrl.create({\n          message: 'No Analysis Found. ',\n          duration: 3000,\n          position: \"top\"\n        }).present()\n      }\n      // this.events.publish(\"stats\",{action:\"tag_ma\",element:this.highlight.element})\n      this.showAlertMessage = true;\n  }\n  segment(e=null) {\n    this.editable = true\n    this.preventKeyboard = false\n  }\n  blurFormEditor(ev,elem){\n    this.preventKeyboard = false\n    this.editable = false\n    this.resize(ev)\n  }\n  resize(ev) {\n    var int = 0.9;\n    ev.target.style.width = ((ev.target.value.length+1) * int) + 'vw'\n  }\n  keyupFormEditor(ev,elem){\n    this.resize(ev)\n    if (ev.code == \"Backspace\") {\n      //TODO: this should be moved to conllu.ts\n      // TODO: name it: concat? merge?\n      if(ev.target.selectionStart == 0 && ev.target.value == elem.form){\n        let cindex =elem.parent.children.indexOf(elem)\n        if(cindex==0)\n          return\n        let eindex = elem.sentence.elements.indexOf(elem)\n        elem.sentence.elements.splice(eindex,1)\n        elem.parent.children.splice(cindex,1)\n        elem.parent.children[cindex-1].form += elem.form\n        elem.sentence.refix(true);\n      }\n    }\n    else if (ev.code == \"ArrowLeft\") {\n      if(ev.target.selectionStart == ev.target.value.length && ev.target.value == elem.form){\n        console.log(\"here\")\n        this.nav(\"word_left\")\n      }\n    }\n    else if (ev.code == \"Escape\") {\n      this.preventKeyboard = false\n      this.editable = false\n    }\n    else if (ev.code == \"ArrowRight\") {\n      if(ev.target.selectionStart == 0 && ev.target.value == elem.form){\n        console.log(\"here\")\n        this.nav(\"word_right\")\n      }\n    }\n    else if (ev.code == \"Enter\") {\n      if(ev.target.value == elem.form){\n        // ev.target.blur()\n        return\n      }\n      // delete the node\n      if(ev.target.value == \"\" && elem.parent != null){\n        let eindex = elem.sentence.elements.indexOf(elem)\n        elem.sentence.elements.splice(eindex,1)\n        let cindex =elem.parent.children.indexOf(elem)\n        elem.parent.children.splice(cindex,1)\n      }\n      // not empty\n      else{\n        ev.target.value = ev.target.value.trim()\n        let splits = ev.target.value.split(\" \")\n        if(splits.length == 1){\n          elem.form = ev.target.value\n          // ev.target.blur()\n          return\n        }\n\n        splits.forEach((form,i)=>{\n          var eindex = elem.sentence.elements.indexOf(elem)\n          if(i==0){\n            elem.form = form\n            return\n          }\n          var el = elem.clone()\n          el.form = form\n          elem.sentence.elements.splice(eindex + i, 0, el)\n\n          if (elem.parent) {\n            el.parent = elem.parent\n            // var cindex =elem.parent.children.indexOf(elem)\n            // console.log(cindex,i)\n            // console.log(elem.parent.children.map(e=>e.form))\n            // elem.parent.children.splice(cindex+i,0,el)\n            // elem.parent.id = elem.parent.children[0].id + \"-\" + (parseInt(elem.parent.children[0].id) + elem.parent.children.length-1)\n            // console.log(elem.parent.children.map(e=>e.form))\n          }\n          else {\n            var parent = new ConlluElement([parseInt(elem.id) + \"-\" + (parseInt(elem.id) + 1), splits.join(\"\"),\n              \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\", \"_\"], elem.lineidx, elem.line,elem.sentence)\n            parent.analysis = elem.analysis\n            elem.sentence.elements.splice(eindex, 0, parent)\n            el.parent = parent;\n            // el.parent.children = [elem,el]\n            elem.parent = parent\n          }\n        })\n      }\n      // this.preventKeyboard = false\n      // this.editable = false\n      elem.sentence.refix(true);\n      this.saveForUndo()\n      ev.target.blur()\n    }\n  }\n  doAction(action,params,e) {\n    switch (action) {\n      case \"nav\":\n      // console.log(\"doAction\")\n        this.nav(params[0],e)\n        break;\n\n      case \"tag_morphofeatures\":\n        this.tag_morphofeatures(e)\n        break\n\n      case \"log\":\n        console.log(this.highlight.element)\n        break\n\n      case \"copy\":\n        this.copy(e)\n        break\n\n      case \"copyParent\":\n        this.copyParent(e)\n        break\n\n      case \"addNote\":\n        this.addNote(e)\n        break\n\n      case \"search\":\n        this.search(e)\n        break\n\n      case \"find\":\n        this.find(e)\n        break\n\n      case \"find_next\":\n        this.find_next(e)\n        break\n\n      case \"find_prev\":\n        this.find_next(e,true)\n        break\n\n      case \"paste\":\n        this.paste(e)\n        break\n\n      case \"pasteMorphInfo\":\n        this.pasteMorphInfo(e)\n        break\n\n      case \"undo\":\n        this.undo(e)\n        break\n\n      case \"redo\":\n        this.redo(e)\n        break\n\n      case \"new_sentence\":\n        this.new_sentence(e)\n        break;\n\n      case \"tag_ma\":\n        this.tag_ma([],e)\n        break;\n\n      case \"tag_ma_previous\":\n        let el2 = this.highlight.element.parent || this.highlight.element\n        let analyses = [].concat.apply([], this.doc.sentences\n          .filter(s=>s._id <= el2.sentence._id)\n          .map(s=>s.tokens()\n             .filter(e=>\n               // parseInt(e.id.split(\"-\")[0]) < parseInt(el2.id) &&\n               e!=el2 &&\n               e.form.replace(/[ًٌٍَُِّْ]/g,\"\") == el2.form.replace(/[ًٌٍَُِّْ]/g,\"\"))))\n        this.tag_ma(analyses,e)\n        e.preventDefault()\n        break;\n\n      case \"edit_memMa\":\n        let el = this.highlight.element.parent || this.highlight.element\n        this.viewElementsPopup(el.analysis.filter((e,i)=>e._miscs[\"DOCID\"]!==undefined && e._miscs[\"DOCID\"]!==this.pageid),e)\n        break;\n\n      case \"segment\":\n        this.segment(e)\n        break;\n\n      case \"diac\":\n        this.showAlertMessage = true;\n        if (/[ًٌٍَُِْ]$/.test(this.highlight.element.form))\n          this.highlight.element.form = this.highlight.element.form.replace(/[ًٌٍَُِّْ]+$/, \"\");\n        if (/ّ[ًٌٍَُِّْ]$/.test(this.highlight.element.form))\n          this.highlight.element.form = this.highlight.element.form.replace(/ّ[ًٌٍَُِّْ]+$/, \"\");\n\n        this.highlight.element.form += params[0];\n        this.saveForUndo()\n        break;\n      case \"clone\":\n        this.clone(e)\n        break\n      case \"mark_misc\":\n        this.mark_misc(params[0],e)\n        break\n      case \"delete\":\n        this.delete(e)\n        break\n\n      case \"assignXTag\":\n          let fn = this.myTags.getTags()[params[0] - 1]\n          if (fn){\n            this.highlight.element.xpostag = fn.tag;\n            this.highlight.element.upostag = this.config.alltags.find(x=>x.tag==fn.tag).mapToConllU\n          }\n          this.saveForUndo()\n          break\n\n      case \"showOtherUTags\":\n          this.myTags.increaseTagsRow()\n          break;\n\n      case \"assignSentenceTag\":\n          fn = this.config.sentenceTags[parseInt(params[0]) - 1]\n          if(fn)\n            this.highlight.sentence.tag = fn.tag\n          this.saveForUndo()\n          break;\n\n      case \"saveFile\":\n          this.saveFile(e)\n          break;\n      case \"syncConllU\":\n          if(e) e.preventDefault();\n          this.syncConllU(e)\n          break;\n\n      case \"validateConllu\":\n          if(e) e.preventDefault();\n          var doc = new ConlluDocument(this.config);\n          doc.parse(this.doc.toConllU(),function(s){this.log = this.log + s + '\\n'},true)\n          break;\n\n      case \"validate\":\n          if(e) e.preventDefault();\n          let issues = this.doc.validate()\n          if(issues.length > 0 )\n            this.toastCtrl.create({\n              message: 'Several issues were found',\n              duration: 3000,\n              position: \"top\"\n            }).present()\n          else\n            this.toastCtrl.create({\n              message: 'No issues were found',\n              duration: 3000,\n              position: \"top\"\n            }).present()\n\n\n          break;\n\n      case \"showCommands\":\n          if(e) e.preventDefault();\n          this.showCommands(e)\n          break;\n\n      default:\n        // code...\n        break;\n    }\n  }\n  showCommands(e){\n    console.log(\"showCommands\")\n    let alert = this.alertCtrl.create();\n    alert.setTitle('List of Commands');\n\n    this.config.keyboardShortcuts.forEach((e,i)=>{\n      alert.addInput({\n        type: 'radio',\n        label: e.keys.length + e.keys.join(\"+\")+\" || \"+e.action + (e.params && e.params.length >0 ? \" {\"+e.params.join()+\"} \":\"\"),\n        value: i+\"\",\n        checked: i==0\n      });\n    })\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'OK',\n      handler: index => {\n        this.doAction(this.config.keyboardShortcuts[index].action,this.config.keyboardShortcuts[index].params,null);\n      }\n    });\n    alert.present();\n  }\n  nav(direction,ev=null){\n    if (!this.highlight.element)\n      return;\n    let x = null\n    if(direction==\"word_left\")\n      x = this.highlight.sentence.elements.find(x => !x.isMultiword && parseInt(x.id) == parseInt(this.highlight.element.id) + 1)\n    else if(direction==\"word_right\")\n      x = this.highlight.sentence.elements.find(x => !x.isMultiword && parseInt(x.id) == (parseInt(this.highlight.element.id) - 1))\n\n    if (x) {\n      this.events.publish('highlight:change', x);\n    }\n    else{\n      var sindex = this.doc.sentences.indexOf(this.highlight.sentence)\n      var y = null\n      if(direction==\"word_down\")\n        y = this.doc.sentences[sindex + 1]\n      else if(direction==\"word_up\")\n        y = this.doc.sentences[sindex - 1]\n\n      if (!y)\n        return;\n\n      if(y.elements.length!=0){\n          this.events.publish('highlight:change', y.elements.filter(x => !x.isMultiword)[0])\n          return\n      }\n\n      this.highlight.sentence = y\n      this.nav(direction)\n    }\n    if(ev)\n      ev.preventDefault();\n  }\n  saveFile(e=null,askToMarkIsDone=true){\n    if(e) e.preventDefault();\n    // this.navCtrl.getActive().\n    if(askToMarkIsDone && this.done){\n      this.doc.sentences[0].comments.unshift(\"# update \"+this.stats.getLine(this.highlight.element))\n      this.saveFile(null,false)\n    } else if(askToMarkIsDone){\n      let alertPopup = this.alertCtrl.create({\n          title: 'Mark as done?',\n          message: 'Do you want to mark it as done?',\n          buttons: [{\n                  text: '(Y)es',\n                  handler: () => {\n                    this.doc.sentences[0].comments.unshift(\"# done \"+this.stats.getLine(this.highlight.element))\n                    this.saveFile(null,false)\n                  }\n              },\n              {\n                  text: '(N)o',\n                  handler: () => {\n                    this.doc.sentences[0].comments.unshift(\"# notdone \"+this.stats.getLine(this.highlight.element))\n                    this.saveFile(null,false)\n                  }\n              }]\n      });\n      alertPopup.present()\n    } else{\n      this._conlluRaw = this.doc.toConllU()\n      this.conlluService.save(this.project, this.hash, this.pageid, this.conlluRaw).then(s => {\n        this.toastCtrl.create({\n          message: 'File was successfully saved. Status:'+(s.isDone? \"Done\" : \"Not Done\"),\n          duration: 3000,\n          position: \"top\"\n        }).present()\n        this.stats.start = new Date()\n        this.showAlertMessage = false;\n      }).catch(reason => {\n        this.toastCtrl.create({\n          message: 'Error: ' + reason,\n          duration: 3000,\n          position: \"top\"\n        }).present()\n        console.error('Error: ' + reason)\n      })\n    }\n  }\n\n  syncConllU(e=null){\n    this._conlluRaw = this.doc.toConllU()\n    this.toastCtrl.create({\n      message: 'Conll-U representation has been updated.',\n      duration: 3000,\n      position: \"top\"\n    }).present()\n  }\n\n  undoArr = []\n  redoArr = []\n  saveForUndo(newConllRaw=null){\n    if(!this.config.sync)\n      return false\n    this.undoArr.push(this.conlluRaw)\n    if(newConllRaw){\n      this.conlluRaw = newConllRaw\n    }\n    else\n      this._conlluRaw = this.doc.toConllU()\n    if(this.undoArr.length > this.config.undoSize)\n      this.undoArr.shift()\n  }\n  // onConlluRawSpansChanged(c,r,row_index,index,e = null) {\n  //   r[index]=e.target.innerText\n  //   this.conlluRaw = this.conlluRaw.split(\"\\n\").map((rr,i)=>{\n  //     return i==row_index? r.join(\"\\t\") : rr\n  //   }).join(\"\\n\")\n  //\n  // }\n  // maResult = null\n  askMA(){\n\n      Promise.all(this.doc.sentences.map((s,i) =>\n            this.wordservice.askMA(s.tokens().map(e => e.form).join(\" \"),this.config)\n             .then((elements: ConlluElement[][]) => {\n               var counter = 1\n              s.elements.forEach(e => {\n                if(e.parent)\n                  return\n                // if(!this.maResult[i])\n                //   return console.error(i,this.maResult)\n                if(!e.analysis)\n                  e.analysis = []\n                if(elements[counter])\n                  e.analysis = e.analysis.concat(elements[counter] || [])\n                // else\n                  // console.log(\"askMA\",e,elements,counter)\n                counter++;\n              })\n            })\n       ))\n      .catch(s=>{\n             this.toastCtrl.create({\n                message: 'Error: ' + s,\n                duration: 3000,\n                position: \"top\"\n              }).present()\n            console.error('Error: ' + s)\n           })\n  }\n\n  askMemMA(){\n      this.doc.sentences.forEach((s,i) =>{\n         this.wordservice.askMemMA(s.tokens().map(e => e.form).join(\" \"),this.config)\n           .then((elements: ConlluElement[][]) => {\n             var counter = 0\n            s.elements.forEach(e => {\n              if(e.parent)\n                return\n              // if(!this.maResult[i])\n              //   return console.error(i,this.maResult)\n              if(elements[counter])\n                e.analysis = elements[counter].concat(e.analysis || [])\n              // else if(!Array.isArray(elements[counter]))\n                // console.log(\"askMemMA\",e,elements,counter)\n              counter++;\n            })\n            }).catch(s=>{\n             this.toastCtrl.create({\n                message: 'Error: ' + s,\n                duration: 3000,\n                position: \"top\"\n              }).present()\n            console.error('Error: ' + s)\n           })\n      })\n  }\n\n\n  showStats(){\n    this.stats.print()\n  }\n}\n\nexport class Highlight {\n  sentence: ConlluSentence = null\n  element: ConlluElement = null\n  ref: string = \"S1:1\"\n\n  constructor(public events:Events){\n    this.events.subscribe(\"highlight:change\", (element)=>{\n      if(!element){\n        console.trace(\"Published an event highlight:change but element is undefined\")\n        return\n      }\n        this.element = element\n        this.sentence = element.sentence\n        this.ref = \"S\"+this.sentence._id+\":\"+this.element._id\n    })\n  }\n}\n\nexport class Stats {\n  start : Date = new Date()\n  // homographs :\n  all = []\n  constructor(public events:Events){\n\n    this.events.subscribe(\"stats\", (obj)=>{\n      this.all.push(obj)\n        // console.log(obj)\n    })\n  }\n  getLine(element: ConlluElement){\n    var a = this.getStatsFromAll()\n    var d = new Date()\n    return [\n    \"Time=\"+this.secondsToHms(Math.abs(d.getTime() - this.start.getTime())),\n    \"from=\"+this.start,\n    \"to=\"+d,\n    \"T=\"+Math.abs(d.getTime() - this.start.getTime()),\n    \"stats=\"+Object.keys(a).map(s=>s+\"=\"+a[s]).join(\"|\"),\n    \"highlight=\"+element.sentence.id+\":\"+element.id,\n    ].join(\"|\")\n  }\n  print(){\n    console.log(this.getStatsFromAll())\n    console.log(this.getAll());\n    var d = new Date()\n    console.log(this.start, d, Math.abs(d.getTime() - this.start.getTime()))\n  }\n  getStatsFromAll(){\n    var cats = {}\n    this.all.forEach(e=>cats[e.action]=cats[e.action]+1 || 1)\n    return cats;\n  }\n  secondsToHms(d) {\n    d = Number(d)/1000;\n    console.log(d)\n\n    var h = Math.floor(d / 3600);\n    var m = Math.floor(d % 3600 / 60);\n    var s = Math.floor(d % 3600 % 60);\n\n    return ('0' + h).slice(-2) + \":\" + ('0' + m).slice(-2) + \":\" + ('0' + s).slice(-2);\n}\n  getAll(){\n    var cache = [];\n    var x= JSON.parse(JSON.stringify(this.all, function(key, value) {\n        if (typeof value === 'object' && value !== null) {\n            if (cache.indexOf(value) !== -1) {\n                // Circular reference found, discard key\n                return;\n            }\n            // Store value in our collection\n            cache.push(value);\n        }\n        return value;\n    }))\n    cache = null; // Enable garbage collection\n    return x\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/annotate/annotate.ts","import { Injectable } from '@angular/core';\n// import { Config } from 'ionic-angular';\nimport { ConfigurationService } from \"ionic-configuration-service\";\nimport { Http , Headers, RequestOptionsArgs } from '@angular/http';\nimport { RequestOptions, Request, RequestMethod} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { ConlluDocument, ConlluSentence, ConlluElement } from 'conllu-dao';\n\n\n/*\n  Generated class for the WordService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class WordService {\n\n  constructor(public http: Http,\n  \tpublic myconfig: ConfigurationService) {\n  }\n  maResults = {}\n  askMA(sentence:string,config:any) {\n    if (this.maResults[sentence]) {\n      // already loaded data\n      // console.log(\"already loaded data for sent=\",sentence)\n      return Promise.resolve(this.maResults[sentence]);\n    }\n    if(sentence==\"\")\n     return Promise.resolve([]);\n    return new Promise<ConlluElement[][]>((resolve,reject) => {\n      // We're using Angular HTTP provider to request the data,\n      // then on the response, it'll map the JSON data to a parsed JS object.\n      // Next, we process the data and resolve the promise with the new data.\n\n\n       this.http.post(this.myconfig.getValue(\"server\")+'ma', {sentence:sentence})\n        .map(res => res.json())\n        .subscribe(data => {\n          // we've got back the raw data, now generate the core schedule data\n          // and save the data for later reference\n          if(!data.ok){\n            return reject(\"MA Results are not valid\")\n          }\n\n          /***\n          ** MA Results\n          ****/\n\n          var doc = new ConlluDocument(config)\n          var parsed = doc.parse(data.rs.join(\"\\n\").trim(),x=>{\n            return console.warn(\"Parsing Conllu Error of MA Results:\",x)\n          },true);\n\n          var result : ConlluElement[][] = []\n          if(parsed.sentences.length == 0)\n            return reject(\"No Analysis is returned. Check the server.\")\n          parsed.sentences[0].elements\n              .forEach(e=>{\n                if(e.parent)\n                   return\n               var wid = e.children.length > 0 ? e.children[0]._miscs[\"WID\"] : e._miscs[\"WID\"];\n                 if(!Array.isArray(result[wid]))\n                   result[wid] = []\n                 result[wid].push(e)\n              })\n          this.maResults[sentence] = result;\n\n          /***\n          ** MA Results\n          ****/\n\n          resolve(this.maResults[sentence]);\n        });\n    });\n  }\n  memMaResults = {}\n  askMemMA(sentence:string,config:any) {\n\t  if (this.memMaResults[sentence]) {\n\t    // already loaded data\n\t    return Promise.resolve(this.memMaResults[sentence]);\n\t  }\n    if(sentence==\"\")\n     return Promise.resolve([]);\n\t  return new Promise<ConlluElement[][]>((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+'memMa', {\n         sentence:sentence,\n         project:config.project,\n         hash:config.hash,\n       })\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        if(!data.ok){\n\t        \treturn reject(\"MemMa Results are not valid.\")\n\t        }\n\n          /***\n          ** MA Results\n          ****/\n          var doc = new ConlluDocument(config)\n          var sentences = data.results.map(e=>e.join(\"\\n\")).join(\"\\n\\n\").trim()\n          // console.log(sentences);\n          var parsed = doc.parse(sentences,x=>{\n            return console.warn(\"Parsing Conllu Error of MemMA Results:\",x)\n          },true);\n          // console.log(sentences)\n\n\t        var result : ConlluElement[][] = []\n          if(parsed.sentences.length == 0)\n            return reject(\"No Analysis is returned.\")\n\n\t        parsed.sentences.forEach((sent,i)=>{\n            result[i] = sent.elements.filter(e=>!e.parent)\n          })\n\t        this.memMaResults[sentence] = result;\n\n         //  /***\n         //  ** MA Results\n         //  ****/\n\n\t        resolve(this.memMaResults[sentence]);\n\t      });\n\t  });\n\t}\n\n}\n\n// export class WordAnalysis{\n// \trank : number = -1;\n// \tgloss : string;\n// \tdiac : string;\n// \tlemma : string;\n// \tpos : string;\n// \tscore : number;\n// \tsegmentation : string;\n// \tconstructor(public o) {\n// \t\tthis.rank = o.rank;\n// \t\tthis.gloss = o.gloss;\n// \t\tthis.diac = o.diac;\n// \t\tthis.lemma = o.lemma;\n// \t\tthis.pos = o.pos;\n// \t\tthis.score = o.score;\n// \t\tthis.segmentation = o.segmentation;\n// \t}\n// }\n\n// export class Word{\n\n// \tid: number = 0;\n// \tword: string = \"\"\n// \tpossibilities : WordAnalysis[] = []\n// \tconstructor(public o) {\n// \t\tthis.update(o)\n// \t}\n// \tupdate(o) {\n// \t\tthis.id = o.id\n// \t\tthis.word = o.word\n// \t\tif(o.possibilities)\n// \t\t\to.possibilities.forEach(e=>this.possibilities.push(new WordAnalysis(e)))\n// \t}\n// \tdiacsArr = [];\n// \tdiacs(){\n// \t\tvar that = this\n// \t\tif(this.diacsArr.length == 0){\n// \t\t\tthis.possibilities.forEach((e,i,arr)=>{\n// \t\t\t\tif(that.diacsArr.indexOf(e.diac)==-1)\n// \t\t\t\t\tthat.diacsArr.push(e.diac)\n// \t\t\t})\n// \t\t}\n// \t\treturn this.diacsArr;\n// \t}\n// \tlemmaArr = [];\n// \tlemma(){\n// \t\tvar that = this\n// \t\tif(this.lemmaArr.length == 0){\n// \t\t\tthis.possibilities.forEach((e,i,arr)=>{\n// \t\t\t\tif(that.lemmaArr.filter(ee=>e.gloss == ee.gloss).length==0)\n// \t\t\t\t\tthat.lemmaArr.push({\n// \t\t\t\t\t\t\"lemma\": e.lemma,\n// \t\t\t\t\t\t\"gloss\": e.gloss.replace(/;/g,\"\\n\"),\n// \t\t\t\t\t})\n// \t\t\t})\n// \t\t}\n// \t\treturn this.lemmaArr;\n// \t}\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/word-service.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sentence_1 = require(\"./sentence\");\nexports.ConlluSentence = sentence_1.ConlluSentence;\nvar element_1 = require(\"./element\");\nexports.ConlluElement = element_1.ConlluElement;\nvar document_1 = require(\"./document\");\nexports.ConlluDocument = document_1.ConlluDocument;\nvar util_1 = require(\"./util\");\nexports.Util = util_1.Util;\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/abbander/dev/conllu-dao/dist/index.js\n// module id = 209\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"./util\");\nclass ConlluSentence {\n    constructor(sentenceId, elements = [], comments = [], document) {\n        /*\n         * ConllU.ConlluSentence: represents CoNLL-U sentence\n         */\n        this._id = 0;\n        this.elements = [];\n        this.comments = [];\n        this.baseOffset = 0;\n        this.issues = [];\n        this.tag = \"\";\n        this.error = false;\n        this.id = sentenceId;\n        this.document = document;\n        this.comments = comments;\n        this.baseOffset = 0;\n        this.elements = elements;\n        this.elements.forEach(e => {\n            e.sentence = this;\n        });\n        // this.refix()\n    }\n    get id() {\n        return \"S\" + this._id;\n    }\n    set id(str) {\n        if (typeof str == \"string\")\n            this._id = parseInt(str.replace(/[^0-9]/g, \"\"));\n        else\n            this._id = str;\n    }\n    ;\n    refix(keepParentRelations = false) {\n        // Fix the id, isSeg, parent, children according to the ID values.\n        // Needed after editing elements of one sentence.\n        // param: keepParentRelations: when true will respect parent relation. Only Id, children and isSeg is updated.\n        var from = -1, to = -2;\n        var parent;\n        var counter = 1;\n        this.elements.forEach(e => {\n            if (e.isMultiword) {\n                if (!keepParentRelations) {\n                    // isSeg is updated later\n                    from = parseInt(e.id.split(\"-\")[0]);\n                    to = parseInt(e.id.split(\"-\")[1]);\n                    e.isSeg = -(to - from) - 1;\n                    parent = e;\n                }\n                e.parent = null;\n                e.children.length = 0;\n            }\n            else {\n                e.id = \"\" + counter++;\n                if (!keepParentRelations) {\n                    if (parseInt(e.id) >= from && parseInt(e.id) <= to) {\n                        e.isSeg = parseInt(e.id) - from;\n                        e.parent = parent;\n                        if (!e.parent) {\n                            console.error(e.sentence.elements.map(e => e.toConllU(true, false)));\n                        }\n                        else {\n                            e.parent.children.push(e);\n                            e.parent.id = e.parent.children[0].id + \"-\" + (parseInt(e.parent.children[0].id) + e.parent.children.length - 1);\n                        }\n                    }\n                }\n                else if (e.parent) {\n                    e.parent.children.push(e);\n                    e.isSeg = parseInt(e.id) - parseInt(e.parent.children[0].id);\n                    e.parent.isSeg = -(parseInt(e.parent.children[e.parent.children.length - 1].id) - parseInt(e.parent.children[0].id)) - 1;\n                    //TODO\n                    // if(-e.parent.isSeg != e.parent.children.length)\n                    // console.error(\"Not the same\",-e.parent.isSeg, e.parent.children.length, e.parent.toConllU())\n                    e.parent.id = e.parent.children[0].id + \"-\" + (parseInt(e.parent.children[0].id) + e.parent.children.length - 1);\n                }\n                else {\n                    // console.error(\"Should never be here\",e)\n                }\n            }\n            // return e\n        }); //.filter(e=>e!=null);\n        return this;\n    }\n    getText() {\n        return this.tokens().map(e => e.form).join(\" \");\n    }\n    toConllU(lines = []) {\n        for (let com of this.comments) {\n            lines.push(com);\n        }\n        for (let elem of this.tokens()) {\n            lines.push(elem.toConllU());\n        }\n        return lines;\n    }\n    // set offset of first character in sentence (for standoff\n    // generation)\n    setBaseOffset(baseOffset) {\n        this.baseOffset = baseOffset;\n    }\n    dependencies() {\n        var dependencies = [];\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            dependencies = dependencies.concat(element.dependencies());\n        }\n        return dependencies;\n    }\n    ;\n    words(includeEmpty) {\n        return this.elements.filter(function (e) {\n            return (e.isWord() || (includeEmpty && e.isEmptyNode()));\n        });\n    }\n    ;\n    multiwords() {\n        return this.elements.filter(e => e.isMultiword);\n    }\n    ;\n    tokens() {\n        // extract token sequence by omitting word IDs that are\n        // included in a multiword token range.\n        var multiwords = this.multiwords();\n        var inRange = {};\n        for (let i = 0; i < multiwords.length; i++) {\n            var mw = multiwords[i];\n            for (let j = mw.rangeFrom(); j <= mw.rangeTo(); j++) {\n                inRange[j] = true;\n            }\n        }\n        return this.elements.filter(function (e) {\n            return e.isToken(inRange);\n        });\n    }\n    ;\n    // return words with possible modifications for visualization with\n    // brat\n    bratWords(includeEmpty) {\n        var words = this.words(includeEmpty);\n        for (let i = 0; i < words.length; i++) {\n            if (util_1.Util.isRtl(words[i].form)) {\n                words[i] = util_1.Util.deepCopy(words[i]);\n                words[i].form = util_1.Util.rtlFix(words[i].form);\n            }\n        }\n        return words;\n    }\n    ;\n    // return tokens with possible modifications for visualization\n    // with brat\n    bratTokens() {\n        var tokens = this.tokens();\n        for (let i = 0; i < tokens.length; i++) {\n            tokens[i] = util_1.Util.deepCopy(tokens[i]);\n            tokens[i].form = util_1.Util.rtlFix(tokens[i].form);\n        }\n        return tokens;\n    }\n    ;\n    // return the text of the sentence for visualization with brat\n    bratText(includeEmpty) {\n        var words = this.bratWords(includeEmpty);\n        var tokens = this.bratTokens();\n        var wordText = words.map(function (w) { return w.form; }).join(' ');\n        var tokenText = tokens.map(function (w) { return w.form; }).join(' ');\n        var combinedText = wordText;\n        if (wordText != tokenText) {\n            combinedText += '\\n' + tokenText;\n        }\n        return combinedText;\n    }\n    ;\n    // return the annotated text spans of the sentence for visualization\n    // with brat.\n    bratSpans(includeEmpty) {\n        var spans = [], offset = this.baseOffset;\n        // create an annotation for each word\n        var words = this.bratWords(includeEmpty);\n        for (let i = 0; i < words.length; i++) {\n            var length = words[i].form.length;\n            spans.push([this.id + '-T' + words[i].id, words[i].upostag,\n                [[offset, offset + length]]]);\n            offset += length + 1;\n        }\n        return spans;\n    }\n    // return attributes of sentence annotations for visualization\n    // with brat.\n    bratAttributes(includeEmpty) {\n        var words = this.words(includeEmpty);\n        // create attributes for word features\n        var attributes = [], aidseq = 1;\n        for (let i = 0; i < words.length; i++) {\n            var word = words[i], tid = this.id + '-T' + word.id;\n            var nameVals = word.features;\n            for (let j = 0; j < nameVals.length; j++) {\n                var name = nameVals[j].key, value = nameVals[j].value;\n                attributes.push([this.id + '-A' + aidseq++, name, tid, value]);\n            }\n        }\n        return attributes;\n    }\n    ;\n    // return relations for sentence dependencies for visualization\n    // with brat.\n    bratRelations(includeEmpty) {\n        var dependencies = this.dependencies();\n        var relations = [];\n        for (let i = 0; i < dependencies.length; i++) {\n            var dep = dependencies[i];\n            relations.push([this.id + '-R' + i, dep[2],\n                [['arg1', this.id + '-T' + dep[1]],\n                    ['arg2', this.id + '-T' + dep[0]]]]);\n        }\n        return relations;\n    }\n    ;\n    // return comments (notes) on sentence annotations for\n    // visualization with brat.\n    bratComments(includeEmpty) {\n        var words = this.words(includeEmpty);\n        // TODO: better visualization for LEMMA, XPOSTAG, and MISC.\n        var comments = [];\n        for (let i = 0; i < words.length; i++) {\n            var word = words[i], tid = this.id + '-T' + word.id, label = 'AnnotatorNotes';\n            comments.push([tid, label, 'Lemma: ' + word.lemma]);\n            if (word.xpostag !== '_') {\n                comments.push([tid, label, 'Xpostag: ' + word.xpostag]);\n            }\n            if (word.misc !== '_') {\n                comments.push([tid, label, 'Misc: ' + word.misc]);\n            }\n        }\n        return comments;\n    }\n    ;\n    // Return styles on sentence annotations for visualization with\n    // brat. Note: this feature is an extension of both the CoNLL-U\n    // comment format and the basic brat data format.\n    bratStyles(includeEmpty) {\n        var styles = [], wildcards = [];\n        for (let i = 0; i < this.comments.length; i++) {\n            var comment = this.comments[i];\n            var m = comment.match(/^(\\#\\s*visual-style\\s+)(.*)/);\n            if (!m) {\n                continue;\n            }\n            var styleSpec = m[2];\n            // Attempt to parse as a visual style specification. The\n            // expected format is \"REF<SPACE>STYLE\", where REF\n            // is either a single ID (for a span), a space-separated\n            // ID1 ID2 TYPE triple (for a relation), or a special\n            // wildcard value like \"arcs\", and STYLE is either\n            // a colon-separated key-value pair or a color.\n            m = styleSpec.match(/^([^\\t]+)\\s+(\\S+)\\s*$/);\n            if (!m) {\n                // TODO: avoid console.log\n                console.warn('warning: failed to parse: \"' + comment + '\"');\n                continue;\n            }\n            var reference = m[1], style = m[2];\n            // split style into key and value, adding a key to\n            // color-only styles as needed for the reference type.\n            var key, value;\n            m = style.match(/^(\\S+):(\\S+)$/);\n            if (m) {\n                key = m[1];\n                value = m[2];\n            }\n            else {\n                value = style;\n                if (reference === 'arcs' || reference.indexOf(' ') !== -1) {\n                    key = 'color';\n                }\n                else {\n                    key = 'bgColor';\n                }\n            }\n            // store wildcards for separate later processing\n            if (reference.match(/^(nodes|arcs)$/)) {\n                wildcards.push([reference, key, value]);\n                continue;\n            }\n            // adjust every ID in reference for brat\n            if (reference.indexOf(' ') === -1) {\n                reference = this.id + '-T' + reference;\n            }\n            else {\n                reference = reference.split(' ');\n                reference[0] = this.id + '-T' + reference[0];\n                reference[1] = this.id + '-T' + reference[1];\n            }\n            styles.push([reference, key, value]);\n        }\n        // for expanding wildcards, first determine which words / arcs\n        // styles have already been set, and then add the style to\n        // everything that hasn't.\n        var setStyle = {};\n        for (let i = 0; i < styles.length; i++) {\n            setStyle[styles[i][0] + styles[i][1]] = true;\n        }\n        for (let i = 0; i < wildcards.length; i++) {\n            let reference = wildcards[i][0], key = wildcards[i][1], value = wildcards[i][2];\n            if (reference === 'nodes') {\n                var words = this.words(includeEmpty);\n                for (let j = 0; j < words.length; j++) {\n                    var r = this.id + '-T' + words[j].id;\n                    if (!setStyle[r.concat(key)]) {\n                        styles.push([r, key, value]);\n                        setStyle[r.concat(key)] = true;\n                    }\n                }\n            }\n            else if (reference === 'arcs') {\n                var deps = this.dependencies();\n                for (let j = 0; j < deps.length; j++) {\n                    var rr = [this.id + '-T' + deps[j][1],\n                        this.id + '-T' + deps[j][0],\n                        deps[j][2]];\n                    if (!setStyle[rr.concat([key]).join(\"\")]) {\n                        styles.push([rr, key, value]);\n                        setStyle[rr.concat([key]).join(\"\")] = true;\n                    }\n                }\n            }\n            else {\n                util_1.Util.reportError('internal error');\n            }\n        }\n        return styles;\n    }\n    ;\n    // Return label of sentence for visualization with brat, or null\n    // if not defined. Note: this feature is an extension of both the\n    // CoNLL-U comment format and the basic brat data format.\n    bratLabel() {\n        var label = null;\n        for (let i = 0; i < this.comments.length; i++) {\n            var comment = this.comments[i];\n            var m = comment.match(/^(\\#\\s*sentence-label\\b)(.*)/);\n            if (!m) {\n                continue;\n            }\n            label = m[2].trim();\n        }\n        return label;\n    }\n    ;\n    // Return representation of sentence in brat embedded format (see\n    // http://brat.nlplab.org/embed.html).\n    // If includeEmpty is truthy, include empty nodes in the representation.\n    // Note: \"styles\" is an extension, not part of the basic format.\n    toBrat(includeEmpty) {\n        var text = this.bratText(includeEmpty);\n        var spans = this.bratSpans(includeEmpty);\n        var attributes = this.bratAttributes(includeEmpty);\n        var relations = this.bratRelations(includeEmpty);\n        var comments = this.bratComments(includeEmpty);\n        var styles = this.bratStyles(includeEmpty);\n        var labels = [this.bratLabel()];\n        return {\n            'text': text,\n            'entities': spans,\n            'attributes': attributes,\n            'relations': relations,\n            'comments': comments,\n            'styles': styles,\n            'sentlabels': labels,\n        };\n    }\n    ;\n    elementById() {\n        var elementById = {};\n        for (let i = 0; i < this.elements.length; i++) {\n            elementById[this.elements[i].id] = this.elements[i];\n        }\n        return elementById;\n    }\n    ;\n    addError(issue, element) {\n        this.issues.push('line ' + (element.lineidx + 1) + ': ' + issue + ' (\"' + element.line + '\")');\n    }\n    // Check validity of the sentence. Return list of strings\n    // representing issues found in validation (empty list if none).\n    validate() {\n        this.issues = [];\n        this.validateUniqueIds();\n        this.validateWordSequence();\n        this.validateMultiwordSequence();\n        this.validateEmptyNodeSequence();\n        this.validateReferences();\n        this.validateParentAndChildren();\n        return this.issues;\n    }\n    ;\n    validateParentAndChildren() {\n        var initialIssueCount = this.issues.length;\n        for (let e of this.elements) {\n            if (e.isMultiword && e.id.split(\"-\").length != 2)\n                this.addError('isMultiword but id is not a range.\"' + e.id + '\"', e);\n            if (!e.isMultiword && e.id.split(\"-\").length != 1)\n                this.addError('is not a Multiword but id is not a single integer.\"' + e.id + '\"', e);\n            if (e.isMultiword && e.children.length == 0)\n                this.addError('isMultiword but zero children.\"' + e.id + '\"', e);\n            if (e.isMultiword && e.children.filter(ee => ee.parent != e).length > 0)\n                this.addError('isMultiword and children are not pointing to parent.\"' + e.id + '\"', e);\n        }\n    }\n    // Check for presence of ID duplicates\n    validateUniqueIds() {\n        var initialIssueCount = this.issues.length;\n        var elementById = {};\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            if (elementById[element.id] !== undefined) {\n                this.addError('non-unique ID \"' + element.id + '\"', element);\n            }\n            elementById[element.id] = element;\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    ;\n    // Check validity of word ID sequence (should be 1,2,3,...)\n    validateWordSequence() {\n        var initialIssueCount = this.issues.length;\n        var expectedId = 1;\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            if (element.isMultiword || element.isEmptyNode()) {\n                continue; // only check simple word sequence here\n            }\n            if (parseInt(element.id, 10) !== expectedId) {\n                this.addError('word IDs should be 1,2,3,..., ' +\n                    'expected ' + expectedId + ', got ' + element.id, element);\n            }\n            expectedId = parseInt(element.id, 10) + 1;\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    ;\n    // Check that multiword token ranges are valid\n    validateMultiwordSequence() {\n        var initialIssueCount = this.issues.length;\n        var expectedId = 1;\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            if (element.isMultiword && element.rangeFrom() !== expectedId) {\n                this.addError('multiword tokens must appear before ' +\n                    'first word in their range', element);\n            }\n            else {\n                expectedId = parseInt(element.id, 10) + 1;\n            }\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    ;\n    validateEmptyNodeSequence() {\n        var initialIssueCount = this.issues.length;\n        var previousWordId = '0'; // TODO check https://github.com/UniversalDependencies/docs/this.issues/382\n        var nextEmptyNodeId = 1;\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            if (element.isWord()) {\n                previousWordId = element.id;\n                nextEmptyNodeId = 1;\n            }\n            else if (element.isEmptyNode()) {\n                var expectedId = previousWordId + '.' + nextEmptyNodeId;\n                if (element.id !== expectedId) {\n                    this.addError('empty node IDs should be *.1, *.2, ... ' +\n                        'expected ' + expectedId + ', got ' + element.id, element);\n                }\n                nextEmptyNodeId++;\n            }\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    // Check validity of ID references in HEAD and DEPS.\n    validateReferences() {\n        var initialIssueCount = this.issues.length;\n        var elementById = this.elementById();\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            // validate HEAD\n            if (!element.validHeadReference(elementById)) {\n                this.addError('HEAD is not valid ID: \"' + element.head + '\"', element);\n            }\n            // validate DEPS\n            var elemDeps = element.dependencies(true);\n            for (let j = 0; j < elemDeps.length; j++) {\n                var head = elemDeps[j][1];\n                if (head !== '0' && elementById[head] === undefined) {\n                    this.addError('invalid ID \"' + head + '\" in DEPS', element);\n                }\n            }\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    ;\n    repair(log) {\n        log = (log !== undefined ? log : util_1.Util.nullLogger);\n        if (!this.validateUniqueIds()) {\n            this.repairUniqueIds(log);\n        }\n        if (!this.validateWordSequence()) {\n            this.repairWordSequence(log);\n        }\n        if (!this.validateMultiwordSequence()) {\n            this.repairMultiwordSequence(log);\n        }\n        if (!this.validateEmptyNodeSequence()) {\n            this.repairEmptyNodeSequence(log);\n        }\n        if (!this.validateReferences()) {\n            this.repairReferences(log);\n        }\n        var issues = this.validate();\n        return issues.length === 0;\n    }\n    ;\n    repairUniqueIds(log) {\n        log = (log !== undefined ? log : util_1.Util.nullLogger);\n        var elementById = {}, filtered = [];\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            if (elementById[element.id] === undefined) {\n                elementById[element.id] = element;\n                filtered.push(element);\n            }\n            else {\n                log('repair: remove element with duplicate ID \"' + element.id + '\"');\n            }\n        }\n        this.elements = filtered;\n        return true;\n    }\n    ;\n    repairWordSequence(log) {\n        log('TODO: implement ConllU.ConlluSentence.repairWordSequence()');\n        return true;\n    }\n    ;\n    repairMultiwordSequence(log) {\n        log('TODO: implement ConllU.ConlluSentence.repairMultiwordSequence()');\n        return true;\n    }\n    ;\n    repairEmptyNodeSequence(log) {\n        log('TODO: implement ConllU.ConlluSentence.repairEmptyNodeSequence()');\n        return true;\n    }\n    ;\n    repairReferences(log) {\n        log = (log !== undefined ? log : util_1.Util.nullLogger);\n        var elementById = this.elementById();\n        for (let i = 0; i < this.elements.length; i++) {\n            var element = this.elements[i];\n            // repair HEAD if not valid\n            if (!element.validHeadReference(elementById)) {\n                log('repair: blanking invalid HEAD');\n                element.head = \"\";\n            }\n            // repair DEPS if not valid\n            if (element.deps === '_') {\n                continue;\n            }\n            var deparr = element.deps.split('|'), filtered = [];\n            for (let j = 0; j < deparr.length; j++) {\n                var dep = deparr[j];\n                var m = dep.match(util_1.Util.dependencyRegex);\n                if (m) {\n                    var head = m[1], deprel = m[2];\n                    if (head === '0' || elementById[head] !== undefined) {\n                        filtered.push(dep);\n                    }\n                    else {\n                        log('repair: removing invalid ID from DEPS');\n                        this.error = true;\n                    }\n                }\n                else {\n                    util_1.Util.reportError('internal error: repairReferences(): ' +\n                        'invalid DEPS');\n                }\n            }\n            if (filtered.length === 0) {\n                element.deps = '_';\n            }\n            else {\n                element.deps = filtered.join('|');\n            }\n        }\n        return true;\n    }\n    ;\n}\nexports.ConlluSentence = ConlluSentence;\n//# sourceMappingURL=sentence.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/abbander/dev/conllu-dao/dist/sentence.js\n// module id = 210\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"./util\");\nclass ConlluElement {\n    // represents CoNLL-U word or multiword token\n    constructor(fields, lineidx, line, sentence) {\n        /*\n         * ConllU.Element: represents CoNLL-U word or multiword token\n         */\n        this._id = \"\";\n        this.form = \"\";\n        this.lemma = \"\";\n        this.upostag = \"\";\n        this._xpostag = \"\";\n        this.issues = [];\n        // private feats : string = \"\";\n        this.head = \"\";\n        this.deprel = \"\";\n        this.deps = \"\";\n        this._miscs = {};\n        this.lineidx = \"\";\n        this.line = \"\";\n        this.isSeg = -1;\n        this.parent = null;\n        this.children = [];\n        this.features = [];\n        this.analysis = [];\n        this.isMultiword = false;\n        this.sentence = sentence;\n        this.id = fields[0];\n        this.form = fields[1];\n        this.lemma = fields[2];\n        this.upostag = fields[3];\n        this.feats = fields[5];\n        this.xpostag = fields[4];\n        this.head = fields[6];\n        this.deprel = fields[7];\n        this.deps = fields[8];\n        this.misc = fields[9];\n        this.lineidx = lineidx;\n        this.line = line;\n    }\n    get id() {\n        return this._id;\n    }\n    set id(args) {\n        this._id = args;\n        this.isMultiword = this._isMultiword();\n    }\n    get xpostag() {\n        return this._xpostag;\n    }\n    set xpostag(argv) {\n        if (this.isMultiword) {\n            this._xpostag = \"_\";\n            return;\n        }\n        this._xpostag = this.sentence.document.mapTagToXpostag(argv);\n        this.upostag = this.sentence.document.mapTagToUpostag(this._xpostag, this.upostag);\n        // remove feats\n        var tag = this.sentence.document.config.alltags.find(x => x.tag == this._xpostag);\n        if (!tag)\n            return;\n        else if (Array.isArray(tag.features)) {\n            this.features = this.features.filter(x => tag.features.indexOf(x.key) >= 0);\n            // this.features = tag.features.map(x=>this.features.find(y=>y.key==x)||x).map(x=>typeof x ==\"string\" ?{key:x,value:\"_\"}:x)\n            // console.log(this.features)\n        }\n    }\n    set misc(args) {\n        this._miscs = {};\n        if (args == undefined)\n            return;\n        if (args == \"_\")\n            return;\n        args.split(\"|\").forEach(text => {\n            var arr = text.split(\"=\");\n            this._miscs[arr[0]] = arr[1];\n        });\n    }\n    get misc() {\n        return Object.keys(this._miscs).map(key => {\n            return this._miscs[key] ? key + \"=\" + this._miscs[key] : undefined;\n        }).filter(x => x != undefined).sort().join(\"|\") || \"_\";\n    }\n    set feats(args) {\n        this.features = [];\n        if (args == undefined)\n            return;\n        if (args == \"_\")\n            return;\n        // args.split(\"|\").forEach(text => {\n        //     var arr = text.split(\"=\")\n        //     this.features.push({key:arr[0],value:arr[1]})\n        // })\n        var featarr = args.split('|');\n        for (let i = 0; i < featarr.length; i++) {\n            var feat = featarr[i];\n            var m = feat.match(util_1.Util.featureRegex);\n            if (!m) {\n                continue;\n            }\n            var name = m[1], valuestr = m[2];\n            var values = valuestr.split(',');\n            for (let j = 0; j < values.length; j++) {\n                var value = values[j];\n                let m = value.match(util_1.Util.featureValueRegex);\n                if (!m) {\n                    continue;\n                }\n                this.features.push({ key: name, value: value });\n            }\n        }\n    }\n    get feats() {\n        return this.features.map(v => {\n            return v.key + \"=\" + v.value;\n        }).sort().join(\"|\") || \"_\";\n    }\n    ;\n    setFeature(key, value) {\n        var i = this.features.findIndex(x => x.key == key);\n        if (i >= 0)\n            if (value)\n                this.features[i].value = value;\n            else\n                this.features.splice(i, 1);\n        else\n            this.features.push({ key: key, value: value });\n    }\n    copy(from) {\n        this.form = from.form;\n        this.lemma = from.lemma;\n        this.upostag = from.upostag;\n        this.xpostag = from.xpostag;\n        this.feats = from.feats;\n        this.head = from.head;\n        this.deprel = from.deprel;\n        this.deps = from.deps;\n        this.misc = from.misc;\n    }\n    getContext(span = 2) {\n        var elems = this.sentence.tokens();\n        // var eindex = elems.findIndex(e=>e==(this.parent || this))\n        var eindex = elems.indexOf(this.parent || this);\n        return elems.filter((e, i) => i >= eindex - span && i <= eindex + span);\n    }\n    isSameAs(element) {\n        return this.children.length == element.children.length &&\n            this.children.filter((c, i) => !c.isSameAs(element.children[i])).length == 0 &&\n            this.form == element.form &&\n            // this.lemma == element.lemma &&\n            this.upostag == element.upostag &&\n            this.xpostag == element.xpostag &&\n            this.feats == element.feats &&\n            this.head == element.head &&\n            this.deprel == element.deprel &&\n            this.deps == element.deps;\n    }\n    copyMorphInfo(from) {\n        this.upostag = from.upostag;\n        this.xpostag = from.xpostag;\n        this.feats = from.feats;\n        this.head = from.head;\n        this.deprel = from.deprel;\n        this.deps = from.deps;\n        this.misc = from.misc;\n    }\n    morphFeatsMissing() {\n        var tag = this.sentence.document.config.alltags.find(x => x.tag == this.xpostag);\n        if (!tag) {\n            // Util.reportError(\"tag was not found!\", this.xpostag)\n            return [];\n        }\n        else if (!tag.features) {\n            util_1.Util.reportError(\"tag has no list of possible morph feats!\" + this.xpostag);\n            return [];\n        }\n        else\n            return tag.features.filter(x => !this.features.find(y => y.key == x));\n    }\n    changeWith(el) {\n        if (el.parent) {\n            util_1.Util.reportError(\"ERROR: changeWith cannot be used with a child element\");\n            el = el.parent;\n        }\n        // parent vs. parent\n        // var i = this.sentence.elements.findIndex(x=>x==this)\n        var i = this.sentence.elements.indexOf(this);\n        // if(el.isMultiword){\n        // Array.prototype.splice.apply(this.sentence.elements,[i,1,el].concat(el.children))\n        var c = el.clone();\n        // c now has elements where first is parent and rest is children\n        // var parent = c[0]\n        c.analysis = this.analysis;\n        c.sentence = this.sentence;\n        c.children.forEach(e => {\n            e.sentence = this.sentence;\n            // e._miscs[\"FROM_MA\"]=true\n        });\n        // console.log(c.sentence.validate(),this.children.length);\n        // console.log([i,1+this.children.length].concat([c,...c.children]))\n        Array.prototype.splice.apply(this.sentence.elements, [i, 1 + (this.parent ? this.parent.children.length : this.children.length)].concat([c, ...c.children]));\n        // console.log(this.sentence.elements.length)\n        this.sentence.refix(true);\n        if (c.isMultiword)\n            return c.children[0];\n        else\n            return c;\n    }\n    clone() {\n        var e = new ConlluElement([this.id, this.form,\n            this.lemma,\n            this.upostag,\n            this.xpostag,\n            this.feats,\n            this.head,\n            this.deprel,\n            this.deps,\n            this.misc], this.lineidx, this.line, this.sentence);\n        e.isMultiword = this.isMultiword;\n        e.analysis = this.analysis;\n        e.sentence = this.sentence;\n        e.children = this.children.map(ee => {\n            let eee = ee.clone();\n            eee.parent = e;\n            return eee;\n        });\n        return e;\n    }\n    // cloneParent  (){\n    //     var all = []\n    //     var parent = this.clone()\n    //     return [parent].concat(this.children.map(e=>{\n    //         e.parent = parent;\n    //         return e.clone()\n    //     }))\n    // }\n    toConllU(includeId = true, includeChildren = true) {\n        if (includeChildren) {\n            if (this.isMultiword) {\n                return [this, ...this.children].map(e => e.toConllU(includeId, false)).join(\"\\n\");\n            }\n            else\n                return this.toConllU(includeId, false);\n        }\n        var line = [includeId ? this.id : \"\",\n            this.form,\n            this.lemma,\n            this.upostag,\n            this.xpostag,\n            this.feats,\n            this.head,\n            this.deprel,\n            this.deps,\n            includeId ? this.misc : \"\"];\n        return line.join(\"\\t\");\n    }\n    // constraints that hold for all fields\n    validateField(field, name = 'field', allowSpace = false) {\n        if (field === undefined) {\n            this.issues.push('invalid ' + name);\n            return false;\n        }\n        else if (field.length === 0) {\n            this.issues.push(name + ' must not be empty: \"' + field + '\"');\n            return false;\n        }\n        else if (util_1.Util.hasSpace(field) && !allowSpace) {\n            this.issues.push(name + ' must not contain space: \"' + field + '\"');\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    ;\n    getForm() {\n        // console.log(elem)\n        if (!this.parent)\n            return this.form;\n        var prev = this.parent.children[this.isSeg - 1];\n        var prevStr = prev ? prev.form.replace(/[ًٌٍَُِّْ]*$/, \"\").substr(-1) : \"\";\n        var next = this.parent.children[this.isSeg + 1];\n        var nextStr = next ? next.form.charAt(0) : \"\";\n        var meLast = this.form.replace(/[ًٌٍَُِّْ]*$/, \"\");\n        meLast = meLast.charAt(meLast.length - 1);\n        var meFirst = this.form.charAt(0);\n        if (-this.parent.isSeg == this.isSeg + 1)\n            return (util_1.Util.isTatweel(prevStr, meFirst) ? \"ـ\" : \"\") + this.form;\n        else if (this.isSeg == 0)\n            return this.form + (util_1.Util.isTatweel(meLast, nextStr) ? \"ـ\" : \"\");\n        else\n            return (util_1.Util.isTatweel(prevStr, meFirst) ? \"ـ\" : \"\") +\n                this.form\n                + (util_1.Util.isTatweel(meLast, nextStr) ? \"ـ\" : \"\");\n    }\n    validateId(id) {\n        if (!this.validateField(id, 'ID')) {\n            return false;\n        }\n        else if (id.match(/^\\d+$/)) {\n            if (id === '0') {\n                this.issues.push('ID indices must start from 1: \"' + id + '\"');\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else if (id.match(/^(\\d+)-(\\d+)$/)) {\n            var m = id.match(/^(\\d+)-(\\d+)$/);\n            if (!m) {\n                util_1.Util.reportError('internal error');\n                return false;\n            }\n            var start = parseInt(m[1], 10), end = parseInt(m[2], 10);\n            if (end < start) {\n                this.issues.push('ID ranges must have start <= end: \"' + id + '\"');\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else if (id.match(/^(\\d+)\\.(\\d+)$/)) {\n            m = id.match(/^(\\d+)\\.(\\d+)$/);\n            if (!m) {\n                util_1.Util.reportError('internal error');\n                return false;\n            }\n            var iPart = parseInt(m[1], 10), fPart = parseInt(m[2], 10);\n            if (iPart == 0 || fPart == 0) {\n                this.issues.push('ID indices must start from 1: \"' + id + '\"');\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            this.issues.push('ID must be integer, range, or decimal: \"' + id + '\"');\n            return false;\n        }\n    }\n    ;\n    validateForm(form) {\n        return this.validateField(form, 'FORM', true);\n    }\n    ;\n    validateLemma(lemma) {\n        return this.validateField(lemma, 'LEMMA', true);\n    }\n    ;\n    validateUpostag(upostag) {\n        return this.validateField(upostag, 'UPOSTAG');\n    }\n    ;\n    validateXpostag(xpostag) {\n        return this.validateField(xpostag, 'XPOSTAG');\n    }\n    ;\n    validateFeats(feats) {\n        if (!this.validateField(feats, 'FEATS')) {\n            return false;\n        }\n        else if (feats === '_') {\n            return true;\n        }\n        var initialIssueCount = this.issues.length;\n        var featarr = feats.split('|');\n        var featmap = {};\n        var prevName = \"\";\n        for (let i = 0; i < featarr.length; i++) {\n            var feat = featarr[i];\n            var m = feat.match(util_1.Util.featureRegex);\n            if (!m) {\n                // TODO more descriptive issue\n                this.issues.push('invalid FEATS entry: \"' + feat + '\"');\n                continue;\n            }\n            var name = m[1], valuestr = m[2];\n            if (prevName !== \"\" &&\n                name.toLowerCase() < prevName.toLowerCase()) {\n                this.issues.push('features must be ordered alphabetically ' +\n                    '(case-insensitive): \"' + name + '\" < \"' + prevName + '\"');\n                var noIssue = false;\n            }\n            prevName = name;\n            var values = valuestr.split(',');\n            var valuemap = {}, validValues = [];\n            for (let value of values) {\n                let m = value.match(util_1.Util.featureValueRegex);\n                if (!m) {\n                    this.issues.push('invalid FEATS value: \"' + value + '\"');\n                    continue;\n                }\n                if (valuemap[value] !== undefined) {\n                    this.issues.push('duplicate feature value: \"' + value + '\"');\n                    continue;\n                }\n                valuemap[value] = true;\n                validValues.push(value);\n            }\n            if (featmap[name] !== undefined) {\n                this.issues.push('duplicate feature name: \"' + name + '\"');\n                continue;\n            }\n            if (validValues.length !== 0) {\n                featmap[name] = validValues;\n            }\n        }\n        return this.issues.length === initialIssueCount;\n    }\n    ;\n    validateHead(head) {\n        // TODO: consider checking that DEPREL is \"root\" iff HEAD is 0.\n        if (head === null) {\n            return true; // exceptional case for ConlluElement.repair()\n        }\n        else if (!this.validateField(head, 'HEAD')) {\n            return false;\n        }\n        else if (this.isEmptyNode() && head === '_') {\n            return true; // underscore permitted for empty nodes.\n        }\n        else if (head === '_') {\n            return true; // AboBander Only\n        }\n        else if (!head.match(/^\\d+$/)) {\n            this.issues.push('HEAD must be an ID or zero: \"' + head + '\"');\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    ;\n    validateDeprel(deprel) {\n        if (!this.validateField(deprel, 'DEPREL')) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    ;\n    validateDeps(deps) {\n        // TODO: consider checking that deprel is \"root\" iff head is 0.\n        if (!this.validateField(deps, 'DEPS')) {\n            return false;\n        }\n        else if (deps === '_') {\n            return true;\n        }\n        var deparr = deps.split('|');\n        var prevHead = null;\n        // TODO: don't short-circuit on first error\n        for (let i = 0; i < deparr.length; i++) {\n            var dep = deparr[i];\n            var m = dep.match(/^(\\d+(?:\\.\\d+)?):(\\S+)$/);\n            if (!m) {\n                // TODO more descriptive issue\n                this.issues.push('invalid DEPS: \"' + deps + '\"');\n                return false;\n            }\n            var head = m[1], deprel = m[2];\n            if (prevHead !== null &&\n                parseFloat(head) < parseFloat(prevHead)) {\n                this.issues.push('DEPS must be ordered by head index');\n                return false;\n            }\n            prevHead = head;\n        }\n        return true;\n    }\n    ;\n    validateMisc(misc) {\n        if (!this.validateField(misc, 'MISC')) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    ;\n    validHeadReference(elementById) {\n        return (this.head === '_' || this.head === null || this.head === '0' ||\n            elementById[this.head] !== undefined);\n    }\n    ;\n    isWord() {\n        // word iff ID is an integer\n        return !!this.id.match(/^\\d+$/);\n    }\n    ;\n    _isMultiword() {\n        return !!this.id.match(/^\\d+-\\d+$/);\n    }\n    ;\n    isEmptyNode() {\n        return !!this.id.match(/^\\d+\\.\\d+$/);\n    }\n    ;\n    rangeFrom() {\n        let val = this.id.match(/^(\\d+)-\\d+$/);\n        if (val)\n            return parseInt(val[1], 10);\n        return -1;\n    }\n    ;\n    rangeTo() {\n        let val = this.id.match(/^\\d+-(\\d+)$/);\n        if (val)\n            return parseInt(val[1], 10);\n        return -1;\n    }\n    ;\n    isToken(inRange) {\n        // token iff multiword or not included in a multiword range\n        return this.isMultiword || !inRange[this.id];\n    }\n    ;\n    // return list of (DEPENDENT, HEAD, DEPREL) lists\n    dependencies(skipHead = false) {\n        var elemDeps = [];\n        if (!skipHead && this.head !== '_' && this.head !== null) {\n            elemDeps.push([this.id, this.head, this.deprel]);\n        }\n        if (this.deps != '_') {\n            var deparr = this.deps.split('|');\n            for (let i = 0; i < deparr.length; i++) {\n                var dep = deparr[i];\n                var m = dep.match(util_1.Util.dependencyRegex);\n                if (m) {\n                    elemDeps.push([this.id, m[1], m[2]]);\n                }\n                else {\n                    util_1.Util.reportError('internal error: dependencies(): invalid DEPS ' +\n                        this.deps);\n                }\n            }\n        }\n        return elemDeps;\n    }\n    // Check validity of the element. Return list of strings\n    // representing issues found in validation (empty list if none).\n    validate() {\n        var issues = [];\n        this.validateId(this.id);\n        this.validateForm(this.form);\n        // multiword tokens (elements with range IDs) are (locally) valid\n        // iff all remaining fields (3-10) contain just an underscore.\n        if (this.isMultiword) {\n            if (this.lemma != '_' ||\n                this.upostag != '_' ||\n                this.xpostag != '_' ||\n                this.feats != '_' ||\n                this.head != '_' ||\n                this.deprel != '_' ||\n                this.deps != '_' //||\n            // this.misc != '_'\n            ) {\n                this.issues.push('non-underscore field for multiword token');\n            }\n            return issues;\n        }\n        // if we're here, not a multiword token.\n        this.validateLemma(this.lemma);\n        this.validateUpostag(this.upostag);\n        this.validateXpostag(this.xpostag);\n        this.validateFeats(this.feats);\n        this.validateHead(this.head);\n        this.validateDeprel(this.deprel);\n        this.validateDeps(this.deps);\n        this.validateMisc(this.misc);\n        return issues;\n    }\n    ;\n    // Attempt to repair a non-valid element. Return true iff the\n    // element is valid following repair, false otherwise.\n    repair(log) {\n        log = (log !== undefined ? log : util_1.Util.nullLogger);\n        if (!this.validateId(this.id)) {\n            return false; // can't be helped\n        }\n        if (!this.validateForm(this.form)) {\n            log('repair: blanking invalid FORM');\n            this.form = '<ERROR>';\n        }\n        if (this.isMultiword) {\n            // valid as long as everything is blank\n            this.lemma = '_';\n            this.upostag = '_';\n            this.xpostag = '_';\n            this.feats = '_';\n            this.head = '_';\n            this.deprel = '_';\n            this.deps = '_';\n            // this.misc = '_';\n            return true;\n        }\n        // if we're here, not a multiword token.\n        if (!this.validateLemma(this.lemma)) {\n            log('repair: blanking invalid LEMMA');\n            this.lemma = '<ERROR>';\n        }\n        if (!this.validateUpostag(this.upostag)) {\n            log('repair: blanking invalid UPOSTAG');\n            this.upostag = '_'; // TODO: not valid\n        }\n        if (!this.validateXpostag(this.xpostag)) {\n            log('repair: blanking invalid XPOSTAG');\n            this.xpostag = '_';\n        }\n        if (!this.validateFeats(this.feats)) {\n            log('repair: blanking invalid FEATS ' + this.toConllU(false));\n            this.feats = '_';\n        }\n        if (!this.validateHead(this.head)) {\n            log('repair: blanking invalid HEAD');\n            this.head = \"\"; // note: exceptional case\n        }\n        if (!this.validateDeprel(this.deprel)) {\n            log('repair: blanking invalid DEPREL');\n            this.deprel = '_'; // TODO: not valid\n        }\n        if (!this.validateDeps(this.deps)) {\n            log('repair: blanking invalid DEPS');\n            this.deps = '_';\n        }\n        if (!this.validateMisc(this.misc)) {\n            log('repair: blanking invalid MISC');\n            this.misc = '_';\n        }\n        var issues = this.validate();\n        return issues.length === 0;\n    }\n    ;\n}\nexports.ConlluElement = ConlluElement;\n//# sourceMappingURL=element.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/abbander/dev/conllu-dao/dist/element.js\n// module id = 211\n// module chunks = 0","import { ConlluElement } from 'conllu-dao';\nimport { Component, ViewChild } from '@angular/core';\nimport { ViewController , NavParams } from 'ionic-angular';\nimport { ConfigJSON } from '../../providers/config-service';\n\n@Component({\n  selector: 'selectize-popover-page',\n  templateUrl: 'selectize-popover-page.html'\n})\nexport class SelectizePopoverPageComponent {\n\n  element: ConlluElement = null;\n  config: ConfigJSON = new ConfigJSON()\n  myconfig = {}\n  public options = []\n  // @ViewChild('myinput') myinput: FormGroup;\n  @ViewChild('myselectize') myselectize: any;\n  constructor(private navParams: NavParams,\n    // public data: Data,\n    public viewCtrl: ViewController) {\n    this.element = navParams.data.element\n    this.config = navParams.data.config\n    this.options = [].concat.apply([],navParams.data.options.map(x=>this.config.mf[x]\n        .map(i=>new Object({\n          value: x+\"=\"+i.tag,\n          title: x+\"=\"+i.desc,\n          feature: x,\n          val: i,\n          custom_selectize_class: x,\n        }))\n      )\n    )\n    this.myconfig = this.selectize_config()\n    // console.log(this.options)\n    // console.log(this.myconfig)\n  }\n  ngAfterViewInit() {\n    // this.myselectize.selectize.focus()\n    setTimeout(() => {\n      this.myselectize.selectize.focus()\n      this.myselectize.selectize.shouldclose = true\n    },500);\n  }\n\n  selectize_config = function(){\n    var that = this\n    // if(this.options.length == 0 )\n    //   this.options.push({\n    //         value: \"UNK\",\n    //         title: \"UNK\",\n    //         feature: \"UNK\",\n    //         val: \"UNK\",\n    //         custom_selectize_class: \"UNK\",\n    //       })\n    return {\n        maxItems: null,\n        valueField: 'value',\n        labelField: 'title',\n        searchField: ['feature','val','title'],\n        plugins: ['optgroup_columns'],\n        options: this.options,\n        optgroups: Object.keys(this.config.mf).map((x,i)=>new Object({\n          $order: i,\n          id: x,\n          name: x\n        })),\n        onInitialize: function(){\n          that.element.features.forEach(x=>{\n            // console.log(x.key, x.value)\n            var item = that.options.find(xx=>xx.feature == x.key && xx.val.tag == x.value)\n            if(item)\n              this.addItem(item.feature+\"=\"+item.val.tag)\n          })\n        },\n        onDropdownClose : function(e){\n          // this.open() // USE ONLY for debugging\n        //   console.log(e)\n        //   // if(this.shouldclose)\n        //     // that.viewCtrl.dismiss()\n        },\n        optgroupValueField: 'id',\n        optgroupLabelField: 'name',\n        optgroupField: 'feature',\n        lockOptgroupOrder: true,\n        hideSelected: true,\n        // closeAfterSelect: true,\n        openOnFocus: true,\n        onItemAdd: function(value, $item) {\n          var item = that.options.find(x=>x.value == value)\n          Object.keys(this.options).filter(x=>this.options[x].feature == item.feature && x != value).forEach(x=>this.removeOption(x))\n\n          that.element.setFeature(item.feature,item.val.tag);\n          if(that.config.onFeatSelect && that.config.onFeatSelect[that.element.upostag] && that.config.onFeatSelect[that.element.upostag][item.feature+\"=\"+item.val.tag])\n            that.config.onFeatSelect[that.element.upostag][item.feature+\"=\"+item.val.tag].forEach(x=>{\n              if(that.element.features[x.split(\"=\")[0]] == undefined)\n                this.addItem(x)\n            })\n          this.refreshOptions()\n        },\n        onItemRemove: function(value, $item) {\n          var x = value.split(\"=\")[0]\n          that.config.mf[value.split(\"=\")[0]].map(i=>new Object({\n            value: x+\"=\"+i.tag,\n            title: x+\"=\"+i.desc,\n            feature: x,\n            val: i,\n            custom_selectize_class: x,\n          })).forEach(x=>this.addOption(x))\n          that.element.setFeature(value.split(\"=\")[0],null);\n          this.refreshOptions()\n        },\n        create: false\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectize-popover-page/selectize-popover-page.ts","import { ConlluElement } from 'conllu-dao';\n// import { AnnotatePage } from '../../pages/annotate/annotate';\nimport { Component, ViewChild } from '@angular/core';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { Events, ViewController, NavController, NavParams } from 'ionic-angular';\nimport { ConfigJSON } from '../../providers/config-service';\n// import { ConcordanceComponent } from '../../components/concordance/concordance';\n\n@Component({\n  selector: 'ma-selectize-popover-page',\n  templateUrl: 'ma-selectize-popover-page.html'\n})\nexport class MASelectizePopoverPageComponent {\n\n  element: ConlluElement = null;\n  analyses: ConlluElement[] = [];\n  path: string = null;\n  myconfig = {}\n  config : ConfigJSON = null\n  project = \"\"\n  hash = \"\"\n  pageid = \"\"\n  dismissed = false\n  options = []\n  // @ViewChild('myinput') myinput: FormGroup;\n  @ViewChild('myselectize') myselectize: any;\n  diacsOptions: any[] = [];\n  // rank = 1;\n  selected = {form:\"\"}\n  mode :string = \"\"\n\n  // @ViewChild('diacs') diacsGroup: RadioGroup;\n\n  constructor(private navParams: NavParams,public events: Events,public viewCtrl: ViewController, public navCtrl: NavController,public iab: InAppBrowser) {\n\n    this.config = navParams.data.config\n    this.analyses = navParams.data.analyses\n    this.element = navParams.data.element\n    this.project = navParams.data.project\n    this.pageid = navParams.data.pageid\n    this.hash = navParams.data.hash\n    this.mode = navParams.data.mode || \"\"\n    this.path = navParams.data.path\n    if(this.analyses)\n      this.options = this.analyses\n          .map((e,i)=>new Object({\n            value: e.id,\n            counter: i,\n            title: i,\n            // score: e._miscs[\"SCORE\"],\n            lemma: (e.children.length > 0 ? e.children.map(ee=>ee.lemma).join(\" \") : e.lemma),\n            isMemMA: e._miscs[\"DOCID\"]!==undefined,\n            miscs: e._miscs,\n            sent: e._miscs[\"SENT\"]?e._miscs[\"SENT\"].replace(/±/g,\" \"): (this.mode == \"view\" ?e.getContext().map(e=>e.form).join(\" \"):\"\"),\n            elements: (e.children.length > 0 ? e.children : [e]),\n            forsearch: (e.children.length > 0 ? e.children : [e]).map(e=>\n              e.form+\" \"+\n                this.config.getXPosTag(e.xpostag).desc+\" \"+\n                this.config.getUPosTag(e.upostag).desc+\" \"+\n                e.features.map(e=>this.config.getFeature(e.key+\"=\"+e.value).desc).join(\" \")\n              ).join(\" \"),\n            o: e,\n          }))\n     else{\n       this.options = []\n     }\n    this.myconfig = this.selectize_config()\n  }\n  ngAfterViewInit() {\n    // this.myselectize.selectize.focus()\n    setTimeout(() => {\n      this.myselectize.selectize.focus()\n      this.myselectize.selectize.okayToClose = true\n    },500);\n    var allpop = (document.querySelector(\".popover-content\") as HTMLElement).offsetHeight\n    var inp = (document.querySelector(\".selectize-input\") as HTMLElement).offsetHeight\n    var ll = document.querySelector(\".selectize-dropdown-content\") as HTMLElement\n    ll.style.height = allpop - inp + \"px\"\n    ll.style[\"max-height\"] = allpop - inp + \"px\"\n  }\n\n  selectize_config = function(){\n    var that : MASelectizePopoverPageComponent = this\n    // if(this.options.length == 0 )\n    //   this.options.push({\n    //         counter: 1,\n    //         title: \"UNK\",\n    //         feature: \"UNK\",\n    //         val: \"UNK\",\n    //         o: {},\n    //         custom_selectize_class: \"UNK\",\n    //       });\n    return {\n        maxItems: 1,\n        valueField: 'value',\n        labelField: 'title',\n        searchField: ['lemma','value','title','forsearch'],\n        // plugins: ['optgroup_columns'],\n        options: this.options,\n        // optgroups: Object.keys(this.config.mf).map((x,i)=>new Object({\n        //   $order: i,\n        //   id: x,\n        //   name: x\n        // })),\n        onDropdownClose : function(e){\n          // this.open() // USE ONLY for debugging\n        },\n        render: {\n            option: function(item, escape) {\n              var arr = item.lemma.split(\"±\")\n              var lemma = arr[0]//item.lemma.replace(/±.*/,\"\")\n              var gloss=\"\"\n              if(arr.length==2)\n                gloss = arr[1].split(\";\").map(meaning=>\"<span class='meaning'>\"+escape(meaning)+\"</span>\").join(\" \")\n\n                return `<div class=doc${item.isMemMA}\">\n                    <div class=\"counter\">${escape(item.counter+1)}</div>\n                    <div class=\"title\">\n                        <div class=\"lemma\">[${lemma.replace(/(^_|_$)/,\"\")}]</div>\n                        <div class=\"by\">${gloss}</div>\n                    </div>\n                    <div class=\"elements\">`+\n                    item.elements.map(e=>{\n                      return `<div class='element'><span class='form'>${e.form}</span><span class='pos'>${that.config.getXPosTag(e.xpostag).desc}</span><span class='morphfeats'>`+\n                      e.features.map(e=>{\n                        // if(!that.config.features[e.key+\"=\"+e.value]){\n                        //   console.error(e.key+\"=\"+e.value, \"not defined\")\n                        //   return e.key+\"=\"+e.value\n                        // }\n                        return `<span class='morphfeat ${e.key}'>${that.config.getFeature(e.key+\"=\"+e.value).desc}</span>`\n                      }).join(\" \")+\"</span></div>\"\n                    }).join(\"\")\n                    + `</div><a href=\"/#/annotate\">${item.sent}</a><span>${item.miscs.DOCID?item.miscs.DOCID:\"\"}</span>\n                </div>`;\n            }\n        },\n        // optgroupValueField: 'id',\n        // optgroupLabelField: 'name',\n        // optgroupField: 'feature',\n        // lockOptgroupOrder: true,\n        // hideSelected: true,\n        // closeAfterSelect: false,\n        // openOnFocus: true,\n        onItemAdd: function(value, $item) {\n          var el = that.analyses.find(val=>{\n            return value == val.id\n          })\n          if(that.mode == \"view\"){\n            if(el._miscs[\"DOCID\"]!==this.pageid)\n              that.iab.create(['/#/annotate',that.project,that.hash,el._miscs[\"DOCID\"],el._miscs[\"SENTID\"]+\"-\"+el._miscs[\"ELEMID\"]].join(\"/\"));\n            else{\n              // if(el.isMultiword)\n              //   el = el.children[0]\n              that.events.publish('highlight:change', el);\n            }\n\n          }else if(that.mode == \"change\"){\n            let c = that.element.changeWith(el);\n            // c._miscs[\"FROM_MA\"]=true\n            [c,...c.children].forEach(cc=>{\n              cc._miscs[\"FROM\"]=\"MA\"\n              delete cc._miscs[\"SENT\"]\n              delete cc._miscs[\"DOCID\"]\n              delete cc._miscs[\"ELEMID\"]\n              delete cc._miscs[\"SENTID\"]\n              delete cc._miscs[\"WID\"]\n            })\n\n            that.events.publish('highlight:change', c);\n            that.events.publish(\"stats\",{action:\"changeWith\",element:c.parent || c})\n        }\n           that.viewCtrl.dismiss()\n        },\n        create: false\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ma-selectize-popover-page/ma-selectize-popover-page.ts","import { Component, Input } from '@angular/core';\nimport { Events } from 'ionic-angular';\nimport { ConfigJSON } from '../../providers/config-service';\n\n/**\n * Generated class for the TagsSelectorComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'tags-selector',\n  templateUrl: 'tags-selector.html',\n  inputs: ['config']\n})\nexport class TagsSelectorComponent {\n\n\ttagsRow = 0;\n\tcurrentTags = []\n\t// alltags: { tag: string, desc: string, count: number, fn?: number }[] = this.config.alltags\n\t// @Input() configService :ConfigService\n  // @Input(\"config\") config //= {\"asda\":\"asd\"}\n  @Input(\"config\") public _config : ConfigJSON\n  set config(argv){\n    this._config = argv\n    this.currentTags = this.getTags()\n  }\n  get config(){\n    return this._config\n  }\n  // @Input() hash : string = \"\"\n\n  constructor(private events: Events) {\n    this.tagsRow = 0;\n  }\n  getTags() {\n    return this.config.alltags.slice(this.tagsRow * 9, (this.tagsRow + 1) * 9).map((x,i) => {\n      x.fn = i+1;\n      return x\n    });\n  }\n  increaseTagsRow() {\n    this.tagsRow++;\n    this.currentTags = this.getTags()\n    if(this.currentTags.length == 0){\n      this.tagsRow = 0\n      this.currentTags = this.getTags()\n    }\n  }\n  selectTag(tag){\n    this.events.publish(\"changeTag\",tag);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tags-selector/tags-selector.ts","import { Component } from '@angular/core';\nimport {  ViewController, NavParams } from 'ionic-angular';\nimport {  ConfigJSON } from '../../providers/config-service';\n\n/**\n * Generated class for the HelpPopoverComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'help-popover',\n  templateUrl: 'help-popover.html'\n})\nexport class HelpPopoverComponent {\n\n  shortcuts : any[] = []\n  config : ConfigJSON = null\n  constructor(private navParams: NavParams,\n    // public data: Data,\n    public viewCtrl: ViewController) {\n    this.config = navParams.data.config\n    this.shortcuts = this.config.keyboardShortcuts.map(e=>{\n      let params = e.params ? e.params.join() : \"\"\n      if(e.code.indexOf(\"Digit\") ==0)\n        params = \"\"\n      if(e.code.indexOf(\"F\"+params) ==0)\n        params = \"\"\n\n      return [e.keys.join(\" + \"), e.desc || e.action, params ]\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/help-popover/help-popover.ts","import { Injectable } from '@angular/core';\nimport { Config } from 'ionic-angular';\nimport { Http , Headers, RequestOptionsArgs } from '@angular/http';\nimport { RequestOptions, Request, RequestMethod} from '@angular/http';\n// import { Sentence} from '../pages/annotate/conllu';\nimport 'rxjs/add/operator/map';\n\n\n/*\n  Generated class for the WordService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class GuidelinesService {\n\n  constructor(public http: Http,\n  \tpublic myconfig: Config) {\n  }\n  guidelines = {\n  \tloaded: false,\n  \tspecialPos : [],\n  \tspecialSeg : [],\n  }\n  load(project:string, hash: string,) {\n\t  if (this.guidelines.loaded) {\n\t    // already loaded data\n\t    return Promise.resolve(this.guidelines);\n\t  }\n\t  var that = this\n\t  // don't have the data yet\n\t  return new Promise((resolve,reject) => {\n\t    // We're using Angular HTTP provider to request the data,\n\t    // then on the response, it'll map the JSON data to a parsed JS object.\n\t    // Next, we process the data and resolve the promise with the new data.\n\n\t //    let opts:RequestOptionsArgs = {\n\t //    \theaders : new Headers({\n\t //    \t\t'Content-Type': 'application/json; charset=utf-8',\n\t //    \t\t// 'Access-Control-Allow-Origin': 'http://localhost:8100'\n\t //    \t}),\n\t //    \t// 'body': JSON.stringify()\n\t\t// }\n\n\t     this.http.post(this.myconfig.get(\"server\")+\"guidelines\",{\n\t     \tproject: project,\n\t     \thash: hash\n\t     })\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        // we've got back the raw data, now generate the core schedule data\n\t        // and save the data for later reference\n\t        // data = data;\n\t        if(data.ok){\n\t        \tdata.guides.forEach(v=>{\n\t        \t\tif(v.ok){\n\t        \t\t\tthat.guidelines[v.type] = v.data\n\t        \t\t\tthis.guidelines[v.type] = this.guidelines[v.type].map(x=>{\n\t        \t\t\t\tx.form_normalized=x.form.replace(/[ًٌٍَُِّْٰۢٓ۟۠ۥـٔ]/g,\"\")\n\t        \t\t\t\treturn x;\n\t        \t\t\t})\n\t        \t\t}\n\t        \t});\n\t        \tresolve(that.guidelines);\n\t        }\n\t        else\n\t        \treject(data.error)\n\t      });\n\t  });\n\t}\n\n\tget(type,form){\n\t\tform = form.replace(/[ًٌٍَُِّْٰۢٓ۟۠ۥـٔ]/g,\"\")\n\t\tif(!this.guidelines[type])\n\t\t\treturn {}\n\t\treturn this.guidelines[type].filter(x=>x.form_normalized==form)[0] || {}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/guidelines-service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\n// import { HttpClientModule } from \"@angular/common/http\";\nimport { APP_INITIALIZER } from \"@angular/core\";\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler, DeepLinkConfig } from 'ionic-angular';\nimport { MyApp } from './app.component';\n// import { Data } from './data';\nimport { WordService } from '../providers/word-service';\nimport { ConlluService } from '../providers/conllu-service';\nimport { ConfigService } from '../providers/config-service';\nimport { GuidelinesService } from '../providers/guidelines-service';\nimport { ProjectService } from '../providers/project-service';\nimport { AnnotatePage } from '../pages/annotate/annotate';\nimport { SelectizePopoverPageComponent } from '../components/selectize-popover-page/selectize-popover-page';\nimport { MASelectizePopoverPageComponent } from '../components/ma-selectize-popover-page/ma-selectize-popover-page';\nimport { TagsSelectorComponent } from '../components/tags-selector/tags-selector';\nimport { GetFormPopoverComponent } from '../components/get-form-popover/get-form-popover';\nimport { GuiderComponent } from '../components/guider/guider';\nimport { ConcordanceComponent } from '../components/concordance/concordance';\nimport { HelpPopoverComponent } from '../components/help-popover/help-popover';\nimport { ConlluEditorComponent } from '../components/conllu-editor/conllu-editor';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n// import { HighlightComponent } from '../components/highlight/highlight';\nimport { DocsPage } from '../pages/docs/docs';\nimport { ProjectsPage,LoginModal } from '../pages/projects/projects';\nimport { NotMultiTag } from '../pipes/not-multi-tag';\nimport { IsNextSentence } from '../pipes/is-next-sentence';\nimport { HttpModule} from '@angular/http';\n\n// import { IonicStorageModule } from '@ionic/storage';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport {NgSelectizeModule} from 'ng-selectize';\nimport { FileSelectDirective,FileDropDirective } from 'ng2-file-upload';\nimport {FocusModule} from 'angular2-focus';\n\nimport { ConfigurationService } from \"ionic-configuration-service\";\n\nexport function loadConfiguration(configurationService: ConfigurationService): () => Promise<void> {\n  return () => configurationService.load(\"assets/ionic.config.json\");\n}\n\n\n// import { Storage } from '@ionic/storage';\n\n// let storage = new Storage(['sqlite', 'websql', 'indexeddb'], { name: '__hadiths' })// optional config);\n\n// export function provideData() {\n//   return new Data(storage)// optional config);\n// }\n// export function provideStorage() {\n  // return storage;\n// }\n\n\n// var wasim_config = {\n//   server: \"http://wasim-api.localhost/\",\n//   // udpipe: \"http://localhost:1441/\",\n//   locationStrategy: 'hash',\n// }\n\n\nexport const deepLinkConfig: DeepLinkConfig = {\n  links: [\n    // { component: AnnotatePage, name: 'Annotate Page', segment: '',defaultHistory: [ ] },\n    { component: AnnotatePage, name: 'Annotate Page', segment: 'annotate/:project/:hash/:id/:position',defaultHistory: [ ProjectsPage] },\n    { component: AnnotatePage, name: 'Annotate Page', segment: 'annotate/:project/:hash/:id',defaultHistory: [ ProjectsPage] },\n    { component: DocsPage, name: 'Documents Page', segment: 'docs/:project/:hash',defaultHistory: [ ProjectsPage] },\n    { component: ProjectsPage, name: 'Projects Page', segment: 'projects',defaultHistory: [ ] }\n  ]\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    AnnotatePage,\n    NotMultiTag,\n    IsNextSentence,\n    GetFormPopoverComponent,\n    SelectizePopoverPageComponent,\n    MASelectizePopoverPageComponent,\n    ConlluEditorComponent,\n    TagsSelectorComponent,\n    HelpPopoverComponent,\n    DocsPage,\n    ProjectsPage,\n    LoginModal,\n    FileSelectDirective,\n    FileDropDirective,\n    GuiderComponent,\n    ConcordanceComponent\n  ],\n  imports: [\n    FocusModule.forRoot(),\n    BrowserModule,\n    HttpModule,\n    // HttpClientModule,\n    NgSelectizeModule,\n    // IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp,{locationStrategy: 'hash'}, deepLinkConfig)\n    // IonicModule.forRoot(MyApp,wasim_config, deepLinkConfig)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    DocsPage,\n    ProjectsPage,\n    LoginModal,\n    GetFormPopoverComponent,\n    SelectizePopoverPageComponent,\n    MASelectizePopoverPageComponent,\n    HelpPopoverComponent,\n    AnnotatePage\n  ],\n  providers: [\n  {provide: ErrorHandler, useClass: IonicErrorHandler},\n  ConfigurationService,\n  {\n    provide: APP_INITIALIZER,\n    useFactory: loadConfiguration,\n    deps: [ConfigurationService],\n    multi: true\n  },\n\n  // Data,\n  StatusBar,\n  SplashScreen,\n  InAppBrowser,\n  WordService,\n  ConlluService,\n  ConfigService,\n  GuidelinesService,\n  ProjectService,\n  // { provide: Storage, useFactory: provideStorage },\n]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { enableProdMode, Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, Config } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { ProjectsPage } from '../pages/projects/projects';\n\n// import { Data } from './data';\n\n// Enable production mode unless running locally\n// if (!/localhost/.test(document.location.host)) {\n  enableProdMode();\n// }\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = ProjectsPage;\n\n  pages: Array<{title: string, component: any}>;\n\n  constructor(public platform: Platform,\n    // public data: Data,\n    public _config: Config,\n    public statusbar: StatusBar,\n    public splashscreen: SplashScreen) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      // { title: 'Page One', component: Page1 },\n      // { title: 'Page Two', component: Page2 },\n      // { title: 'Sections', component: SectionPage },\n    ];\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusbar.styleDefault();\n      this.splashscreen.hide()\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sentence_1 = require(\"./sentence\");\nconst element_1 = require(\"./element\");\nconst util_1 = require(\"./util\");\nclass ConlluDocument {\n    // constructor(config, public events: Events=null) {\n    constructor(config, id = \"\") {\n        /*\n         * ConllU.ConlluDocument: represents CoNLL-U document\n         */\n        this.sentences = [];\n        this.config = { alltags: [] };\n        this.id = \"\";\n        this.error = false;\n        this.strict = false;\n        this.issues = [];\n        this.logger = (s) => { };\n        if (!config)\n            console.error(\"No config JSON is supplied!\");\n        this.config = config;\n        this.reset();\n        this.id = id;\n    }\n    mapTagToXpostag(from) {\n        var f = this.config.alltags.find(x => x.tag == from || x.mapFrom.indexOf(from) >= 0);\n        if (f)\n            return f.tag;\n        util_1.Util.reportError(\"tag is not mapped to Xpostag: \" + from);\n        return from;\n    }\n    fixSentenceIds() {\n        this.sentences.forEach((s, i) => {\n            // console.log(s)\n            let id_i = s.comments.findIndex(c => {\n                return c.indexOf(\"# sent_id\") == 0;\n            });\n            if (id_i >= 0)\n                s.comments[id_i] = \"# sent_id = \" + (i + 1);\n            else\n                s.comments.push(\"# sent_id = \" + (i + 1));\n            s.id = 'S' + (i + 1);\n            let text_i = s.comments.findIndex(c => {\n                return c.indexOf(\"# text\") == 0;\n            });\n            if (text_i >= 0)\n                s.comments[text_i] = \"# text = \" + s.getText();\n            else\n                s.comments.push(\"# text = \" + s.getText());\n        });\n    }\n    mapTagToUpostag(from, from_ud) {\n        var f = this.config.alltags.find(x => x.tag == from);\n        if (f)\n            return f.mapToConllU;\n        util_1.Util.reportError(\"tag is not mapped to Upostag: \" + from);\n        return from_ud;\n    }\n    reset() {\n        this.sentences = [];\n        this.error = false;\n        this.logger = function (s) { };\n        this.strict = false; // pick heuristically\n    }\n    ;\n    getElement(ref) {\n        if (!ref)\n            return null;\n        ref = ref.split(\":\");\n        let sent = this.sentences.find(x => x.id == ref[0]);\n        if (!sent)\n            return null;\n        let elem = sent.elements.find(x => x.id == ref[1]);\n        if (!elem)\n            return null;\n        // this.events.publish('highlight:change', elem)\n        if (elem.isMultiword)\n            elem = elem.children[0];\n        return elem;\n    }\n    getElementLine(element, sentence) {\n        var counter = 1;\n        var result = 0;\n        this.sentences.forEach(s => {\n            s.elements.forEach(e => {\n                if (s.id == sentence.id && e.id == element.id) {\n                    result = counter;\n                }\n                counter++;\n            });\n            counter++;\n        });\n        return result;\n    }\n    log(message) {\n        this.logger(message);\n    }\n    ;\n    logError(message) {\n        this.log('error: ' + message);\n        this.error = true;\n    }\n    ;\n    toConllU() {\n        var lines = [];\n        for (let sent of this.sentences) {\n            sent.toConllU(lines);\n            lines.push(\"\");\n        }\n        return lines.join(\"\\n\");\n    }\n    /* Parse CoNLL-U format, return ConlluDocument.\n     * (see http://universaldependencies.github.io/docs/format.html)\n     *\n     * CoNLL-U files contain three types of lines:\n     * 1.  Word lines\n     * 2.  Blank lines marking sentence boundaries\n     * 3.  Comment lines starting with a hash (\"#\")\n     *\n     * Each word line has the following format\n     * 1.  ID: Word index, integer starting at 1 for each new sentence;\n     *     may be a range for tokens with multiple words; may be a decimal\n     *     number for empty nodes.\n     * 2.  FORM: Word form or punctuation symbol.\n     * 3.  LEMMA: Lemma or stem of word form.\n     * 4.  UPOSTAG: Universal part-of-speech tag.\n     * 5.  XPOSTAG: Language-specific part-of-speech tag; underscore\n     *     if not available.\n     * 6.  FEATS: List of morphological features from the Universal\n     *     feature inventory or from a defined language-specific extension;\n     *      underscore if not available.\n     * 7.  HEAD: Head of the current token, which is either a value of ID\n     *     or zero (0).\n     * 8.  DEPREL: Universal Stanford dependency relation to the HEAD\n     *     (root iff HEAD = 0) or a defined language-specific subtype\n     *     of one.\n     * 9.  DEPS: List of secondary dependencies (head-deprel pairs).\n     * 10. MISC: Any other annotation.\n     */\n    parse(input, logger, strict) {\n        // discard previous state, if any\n        this.reset();\n        if (logger !== undefined) {\n            this.logger = logger;\n        }\n        if (strict !== undefined) {\n            this.strict = strict;\n        }\n        // TODO: handle other newline formats\n        var lines = input.split('\\n');\n        if (!this.strict) {\n            this.strict = util_1.Util.selectParsingMode(input, this.logger);\n        }\n        // select splitter to use for dividing the lines into fields.\n        var splitter = util_1.Util.selectFieldSplitter(input, this.logger, this.strict);\n        var //elements = [],\n        // comments = [],\n        beforeConlluSentence = true;\n        var sId = 'S' + (this.sentences.length + 1);\n        var currentSentence = new sentence_1.ConlluSentence(sId, [], [], this); //, currentSentence.elements, currentSentence.comments);\n        for (let idx = 0; idx < lines.length; idx++) {\n            var line = lines[idx], that = this;\n            var logLineError = function (message) {\n                that.logError('line ' + (idx + 1) + ': ' + message + ' (\"' + line + '\")');\n                that.error = true;\n            };\n            if (util_1.Util.isComment(line)) {\n                if (beforeConlluSentence) {\n                    currentSentence.comments.push(line);\n                }\n                else {\n                    logLineError('comments must precede sentence, ignoring');\n                }\n                continue;\n            }\n            // non-comment, assume inside sentence until terminated by\n            // blank line\n            beforeConlluSentence = false;\n            var fields = splitter(line);\n            if (fields.length === 0) {\n                // empty line, terminates sentence\n                if (currentSentence.elements.length !== 0 || currentSentence.comments.length !== 0) {\n                    currentSentence.refix();\n                    this.sentences.push(currentSentence);\n                    let sId = 'S' + (this.sentences.length + 1);\n                    currentSentence = new sentence_1.ConlluSentence(sId, [], [], this); //, currentSentence.elements, currentSentence.comments);\n                    // this.sentences.push(sentence);\n                }\n                else {\n                    if (this.config.debug)\n                        logLineError('empty sentence, ignoring');\n                }\n                // reset\n                // elements = [];\n                // comments = [];\n                beforeConlluSentence = true;\n                continue;\n            }\n            if (fields.length !== 10) {\n                logLineError('expected 10 fields, got ' + fields.length);\n                util_1.Util.repairFields(fields, this.logger);\n            }\n            var element = new element_1.ConlluElement(fields, idx, line, currentSentence);\n            let issues = element.validate();\n            issues.forEach(v => logLineError(v));\n            if (issues.length !== 0) {\n                if (!element.repair(this.logger)) {\n                    logLineError('repair failed, discarding line');\n                    continue; // failed, ignore line\n                }\n            }\n            let ar = element.id.split(\"-\");\n            if (ar[0] != ar[1])\n                currentSentence.elements.push(element);\n        }\n        // If elements is non-empty, last sentence ended without its\n        // expected terminating empty line. Process, but warn if strict.\n        // if (elements.length !== 0) {\n        //     if (this.strict) {\n        //         this.logError('missing blank line after last sentence');\n        //     }\n        //     var sId = 'S' + (this.sentences.length + 1);\n        //     var sentence = new ConlluSentence(sId, elements, comments);\n        //     sentence.document = this;\n        //     this.sentences.push(sentence);\n        //     // reset\n        //     elements = [];\n        //     comments = [];\n        //     beforeConlluSentence = true;\n        // }\n        // If comments is non-empty, there were comments after the\n        // terminating empty line. Warn and discard.\n        if (currentSentence.comments.length !== 0 && currentSentence.elements.length == 0) {\n            this.logError('comments may not occur after last sentence, ' +\n                'ignoring');\n        }\n        else {\n            currentSentence.refix();\n            this.sentences.push(currentSentence);\n        }\n        for (let i = 0; i < this.sentences.length; i++) {\n            var sentence = this.sentences[i];\n            let issues = sentence.validate();\n            issues.forEach(v => this.logError(v));\n            if (issues.length !== 0) {\n                if (!sentence.repair(this.logger)) {\n                    this.logError('repair failed, discarding sentence');\n                    continue;\n                }\n            }\n        }\n        // console.log(this)\n        return this;\n    }\n    validate() {\n        this.sentences.forEach(s => s.validate());\n    }\n    find(creteria) {\n        var regExps = [\"form\", \"lemma\"]\n            .filter(prop => creteria[prop] !== \"\" && creteria[prop].split(\"/\").length == 3)\n            .map(prop => {\n            let s = creteria[prop];\n            creteria[prop] = \"\";\n            return { \"prop\": prop, \"regexp\": new RegExp(s.split(\"/\")[1]) };\n        });\n        return [].concat.apply([], this.sentences.map(sent => {\n            return sent.elements.filter(elem => {\n                if (regExps.filter(r => !r.regexp.test(elem[r.prop])).length > 0)\n                    return false;\n                if (creteria.form !== \"\" && elem.form != creteria.form && elem.form.replace(/[ًٌٍَُِّْ]/g, \"\") != creteria.form) {\n                    return false;\n                }\n                if (creteria.xpos !== \"\" && elem.xpostag != creteria.xpos)\n                    return false;\n                if (creteria.upos !== \"\" && elem.upostag != creteria.upos)\n                    return false;\n                if (creteria.feats !== \"\" && elem.feats.indexOf(creteria.feats) < 0)\n                    return false;\n                if (creteria.misc !== \"\" && elem.misc.indexOf(creteria.misc) < 0)\n                    return false;\n                return true;\n            });\n        }));\n    }\n    toBrat(logger, includeEmpty) {\n        if (logger !== undefined) {\n            this.logger = logger;\n        }\n        if (includeEmpty === undefined) {\n            includeEmpty = false; // hide empty nodes by default\n        }\n        // merge brat data over all sentences\n        var mergedBratData = {}, textOffset = 0;\n        var categories = [\n            'entities',\n            'attributes',\n            'relations',\n            'comments',\n            'styles',\n            'sentlabels'\n        ];\n        for (let i = 0; i < categories.length; i++) {\n            mergedBratData[categories[i]] = [];\n        }\n        mergedBratData['text'] = '';\n        for (let i = 0; i < this.sentences.length; i++) {\n            var sentence = this.sentences[i];\n            var issues = sentence.validate();\n            for (let j = 0; j < issues.length; j++) {\n                this.logError(issues[j]);\n            }\n            if (issues.length !== 0) {\n                if (!sentence.repair(this.logger)) {\n                    this.logError('repair failed, discarding sentence');\n                    continue;\n                }\n            }\n            sentence.setBaseOffset(textOffset !== 0 ? textOffset + 1 : 0);\n            var bratData = sentence.toBrat(includeEmpty);\n            // merge\n            if (mergedBratData['text'].length !== 0) {\n                mergedBratData['text'] += '\\n';\n                textOffset += 1;\n            }\n            mergedBratData['text'] += bratData['text'];\n            textOffset += bratData['text'].length;\n            for (let j = 0; j < categories.length; j++) {\n                var c = categories[j];\n                mergedBratData[c] = mergedBratData[c].concat(bratData[c]);\n            }\n        }\n        // to avoid brat breakage on error, don't send empty text\n        if (mergedBratData['text'].length === 0) {\n            mergedBratData['text'] = '<EMPTY>';\n        }\n        mergedBratData['error'] = this.error;\n        return mergedBratData;\n    }\n    ;\n}\nexports.ConlluDocument = ConlluDocument;\n//# sourceMappingURL=document.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/abbander/dev/conllu-dao/dist/document.js\n// module id = 293\n// module chunks = 0","import { Component } from '@angular/core';\nimport { ConlluElement } from 'conllu-dao';\nimport { ViewController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the GetFormPopoverComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'get-form-popover',\n  templateUrl: 'get-form-popover.html'\n})\nexport class GetFormPopoverComponent {\n\n  element: ConlluElement = null;\n  diacsOptions: any[] = [];\n  rank = 1;\n  selected = {form:\"\"}\n\n  // @ViewChild('diacs') diacsGroup: RadioGroup;\n\n  constructor(private navParams: NavParams, public viewCtrl: ViewController) {\n    this.element = navParams.data.element\n    // this.diacsOptions = this.element.analysis.diacs()\n    // this.diacsOptions = this.element.analysis.possibilities;\n    // console.log(this.element.analysis.possibilities)\n    console.log(this.diacsOptions)\n    this.rank = this.diacsOptions.findIndex((val) => {\n      return this.element.form == val.diac;\n    })\n  }\n\n  mapObj = {\n    \"noun\": \"NOUN\",\n    \"noun_prop\" : \"PROPN\",\n    \"verb\":\"VERB\",\n    \"adj\":\"ADJ\",\n    \"adv\":\"ADV\",\n    \"prep\":\"PART\",\n  }\n  map(from){\n    return this.mapObj[from] || from\n  }\n  onChange(ev) {\n    if (ev.code == \"Enter\") {\n      var newval = this.diacsOptions[this.rank]\n      if (newval) {\n        // this.element.form = newval.segmentation[this.element.isSeg] || newval.segmentation[0];\n        if (newval.segmentation.length == 1){\n          this.element.form = newval.segmentation[0]\n        }\n        else{\n          newval.segmentation.forEach((seg, i) => {\n            if (this.element.parent) {\n              if (this.element.parent.children[i])\n                this.element.parent.children[i].form = seg\n            }\n            else\n              console.error(\"ERROR: Should have a parent:\",this.element)\n          })\n        }\n        this.element.lemma = newval.lemma;\n        this.element.upostag = this.map(newval.pos);\n      }\n      // else\n        // this.element.form = ev.target.value\n      this.viewCtrl.dismiss()\n    }\n    if (ev.code == \"ArrowDown\") {\n      ev.preventDefault()\n      // var i = this.diacsOptions.findIndex((val) => {\n      //   return this.rank == val.rank;\n      // })\n      // // var i = this.rank\n      // var chosen = this.diacsOptions[i + 1 >= this.diacsOptions.length ? this.diacsOptions.length - 1 : i + 1]\n      // this.element.form = chosen.diac\n      // this.rank = chosen.rank\n      this.rank = this.rank + 1 >= this.diacsOptions.length ? this.rank : this.rank + 1\n    }\n    if (ev.code == \"ArrowUp\") {\n      ev.preventDefault()\n\n      // var i = this.diacsOptions.findIndex((val) => {\n      //   return this.rank == val.rank;\n      // })\n      // // var i = this.rank\n      // var chosen = this.diacsOptions[i - 1 < 0 ? 0 : i - 1]\n      // // this.element.form = chosen.diac\n      // this.rank = chosen.rank\n\n      this.rank = this.rank - 1 < 0 ? this.rank : this.rank - 1\n    }\n    if (ev.code == \"Escape\") {\n      // this.viewCtrl.dismiss()\n    }\n    if (/F[0-9]/.test(ev.code)) {\n      ev.preventDefault();\n      console.log(ev.code)\n      // this.element.form = this.element.analysis.diacs()[parseInt(ev.code.replace(\"F\", \"\")) - 1]\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/get-form-popover/get-form-popover.ts","import { SimpleChanges, Component, Input } from '@angular/core';\nimport { Events, ToastController, ViewController, NavParams } from 'ionic-angular';\nimport { GuidelinesService } from '../../providers/guidelines-service';\nimport { ConfigJSON } from '../../providers/config-service';\n\n/**\n * Generated class for the GuiderComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'guider',\n  templateUrl: 'guider.html'\n})\n\nexport class GuiderComponent {\n  @Input() element\n  @Input() type : string\n  showDetails : boolean = false\n  @Input() project : string = \"\"\n  @Input() hash : string = \"\"\n  @Input() config : ConfigJSON\n  constructor(private navParams: NavParams,\n    public guidelinesService: GuidelinesService,\n    public events: Events,\n    public toastCtrl: ToastController,\n    public viewCtrl: ViewController) {\n      // this.config = navParams.data.config\n      this.guidelinesService.load(navParams.data.project,navParams.data.hash).then(x=>{\n      // this.guidelinesService.load(\"hadiths\",\"d14274111536eed778f6b8a648115aa8\").then(x=>{\n        }).catch(x=>{\n            this.toastCtrl.create({\n              message: 'No guider is found: ' + x,\n              duration: 3000,\n              position: \"top\"\n            }).present()\n        })\n  }\n  toggle(e){\n    e.showDetails = e.showDetails || false;\n    this.events.publish(\"stats\",{action:\"showGuider:toggle\",elements:e})\n    e.showDetails = ! e.showDetails ;\n  }\n  options = []\n  get(){\n    return this.options\n  }\n  show(){\n     return this.options && this.options.length > 0\n  }\n  assign(element,option){\n    element.xpostag = option.value\n     // console.log(element,option)\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    this.options= this.guidelinesService.get(this.type,this.element.form).options\n    if(this.options)\n      this.options.forEach(e=>e.showDetails=true)\n\n    if(this.show())\n      this.events.publish(\"stats\",{action:\"showGuider\",elements:this.element})\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/guider/guider.ts","import { SimpleChanges, Component, Input } from '@angular/core';\nimport { Events, ToastController, ViewController, NavParams } from 'ionic-angular';\nimport { ConfigJSON } from '../../providers/config-service';\n\n/**\n * Generated class for the GuiderComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'concordance',\n  templateUrl: 'concordance.html'\n})\n\nexport class ConcordanceComponent {\n  @Input() element\n  elementIndex : number = 0\n  @Input() config : ConfigJSON\n\n  constructor(private navParams: NavParams,\n    public events: Events,\n    public toastCtrl: ToastController,\n    public viewCtrl: ViewController) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/concordance/concordance.ts","import { Input, Output, Component,EventEmitter } from '@angular/core';\n\n/**\n * Generated class for the ConlluEditorComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'conllu-editor',\n  templateUrl: 'conllu-editor.html'\n})\nexport class ConlluEditorComponent {\n\n  conlluRawSpans : {sentid: number,elemid: string,line: number,elems: string[]}[]\n  conlluRawSpansSubset : {sentid?: number,elemid?: string,line?: number,elems?: string[]}[] = [{}]\n\n\n  @Input() public filename\n  _conlluRaw:string = \"\"\n\n  @Input(\"raw\")\n  public set conlluRaw  (argv :string){\n    if(argv!==undefined){\n      this._conlluRaw = argv\n      this.conlluRawSpans = this.getConlluRaw()\n      this.conlluRawSpansSubset = this.conlluRawSpans.filter(e=>e.sentid === this.sid)\n      this.start = this.conlluRawSpansSubset[0] ? this.conlluRawSpansSubset[0].line : 1\n    }\n  }\n  public get conlluRaw(){\n    return this._conlluRaw || \"\"\n  }\n  eid: number = -1\n  sid: number = -1\n  start = 1\n  @Input()\n  public set hid(hid:number[]){\n\n    this.eid = hid[0]\n    this.sid = hid[1]\n    if(this.eid && this.sid)\n      setTimeout(() => {\n        let highlight_element : any = document.querySelector(\"conllu-editor pre > .highlight\");\n        if(highlight_element){\n          document.querySelector(\"conllu-editor\").scrollTo(0, highlight_element.offsetTop-100)\n        }\n      })\n    if(this.conlluRawSpans){\n      this.conlluRawSpansSubset = this.conlluRawSpans.filter(e=>e.sentid === this.sid)\n      this.start = this.conlluRawSpansSubset[0] ? this.conlluRawSpansSubset[0].line : 1\n    }\n  }\n\n\n  @Output() public conlluRawChange: EventEmitter<string> = new EventEmitter();\n  @Output() public highlighElementChange: EventEmitter<string> = new EventEmitter();\n\n  constructor() {\n    this.conlluRawSpans = this.getConlluRaw()\n  }\n\n  onConlluRawSpansChanged(r,row_index,e = null) {\n    //make sure there is a tab after each span\n    setTimeout(() => {\n      e.target.childNodes.forEach(e=>{\n        if(e.nodeName != \"CODE\")\n          return\n        if(e.innerText)\n          e.innerText = e.innerText.trim()+\"\\t\"\n      })\n      // r[index]=e.target.innerText\n      let conlluRaw = this.conlluRaw.split(\"\\n\").map((rr,i)=>{\n        return i==row_index? e.target.innerText : rr\n      }).join(\"\\n\")\n      // console.log(this.conlluRaw)\n      if(document.activeElement.classList.contains(\"conllu-row\"))\n        return\n      this.conlluRawChange.emit(conlluRaw)\n      this.highlighElementChange.emit('S'+r.sentid+':'+r.elemid)\n      // this.saveForUndo(conlluRaw)\n      // this.highlightElement('S'+r.sentid+':'+r.elemid)\n    })\n  }\n  removeConlluRawRow(r,row_index,e = null) {\n    //make sure there is a tab after each span\n    setTimeout(() => {\n      // r[index]=e.target.innerText\n      let conlluRaw = this.conlluRaw.split(\"\\n\").filter((rr,i)=>{\n        return i!=row_index\n      }).join(\"\\n\")\n      // if(document.activeElement.classList.contains(\"conllu-row\"))\n      //   return\n      // this.saveForUndo(conlluRaw)\n      this.conlluRawChange.emit(conlluRaw)\n    })\n  }\n  addConlluRawRow(r,row_index,e = null) {\n    //make sure there is a tab after each span\n    setTimeout(() => {\n      // r[index]=e.target.innerText\n      var ar = this.conlluRaw.split(\"\\n\")\n      ar.splice(row_index,0,\"# \")\n      let conlluRaw = ar.join(\"\\n\")\n      // this.conlluRawSpans.splice(row_index,0, {sentid: this.conlluRawSpans[row_index].sentid, elemid:\"comment\", elems: [\"# \"]})\n      // console.log(this.conlluRaw)\n      // console.log(document.activeElement)\n      // if(document.activeElement.classList.contains(\"conllu-row\"))\n        // return\n      // this.saveForUndo(conlluRaw)\n      this.conlluRawChange.emit(conlluRaw)\n    })\n  }\n  downloadConlluRawRow(r,row_index,e = null) {\n    //make sure there is a tab after each span\n    // this.conlluRaw = this.conlluRaw.split(\"\\n\").splice(row_index,0,\"# \").join(\"\\n\")\n    // this.conlluRawSpans.splice(row_index,0, {sentid: this.conlluRawSpans[row_index].sentid, elemid:\"comment\", elems: [\"# \"]})\n    // console.log(this.conlluRaw)\n    var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(this.conlluRaw);\n    var downloadAnchorNode = document.createElement('a');\n    downloadAnchorNode.setAttribute(\"href\",     dataStr);\n    let filename = this.filename\n    if(!/\\.conllu$/.test(filename))\n      filename+= \".conllu\"\n    downloadAnchorNode.setAttribute(\"download\", filename);\n    downloadAnchorNode.click();\n    downloadAnchorNode.remove();\n  }\n  getConlluRaw(e=null){\n    var sentid = 1\n    return this.conlluRaw.replace(/\\n{3,}/g,\"\\n\\n\").split(\"\\n\").map((e,i)=>{\n      if(e==\"\")\n        sentid++\n      var elemid = e.split(\"\\t\")[0]\n      elemid = /^[0-9-]/.test(elemid.trim()) ? elemid.trim() : \"comment\"\n      return {\n        sentid:sentid,\n        elemid:elemid,\n        line:i,\n        elems:e.split(\"\\t\").map(ee=>ee+=\"\\t\")\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/conllu-editor/conllu-editor.ts","import { Injectable, Pipe } from '@angular/core';\nimport { ConlluElement } from 'conllu-dao';\n\n\n/*\n  Generated class for the NotMultiTag pipe.\n\n  See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n  Angular 2 Pipes.\n*/\n@Pipe({\n  name: 'notmultitag',\n  pure: false\n})\n@Injectable()\nexport class NotMultiTag {\n  /*\n    Takes a value and makes it lowercase.\n   */\n  transform(list: ConlluElement[]): any[] {\n    return list.filter(item => !item.isMultiword);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/not-multi-tag.ts","import { Injectable, Pipe } from '@angular/core';\nimport { ConlluSentence } from 'conllu-dao';\n\n\n/*\n  Generated class for the NotMultiTag pipe.\n\n  See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n  Angular 2 Pipes.\n*/\n@Pipe({\n  name: 'isNextSentence',\n  pure: false\n})\n@Injectable()\nexport class IsNextSentence {\n  /*\n    Takes a value and makes it lowercase.\n   */\n   windowSize= 1\n  transform(list: ConlluSentence[], highlight: ConlluSentence): any[] {\n    // let ii = parseInt(index)\n    if(list==null)\n      return []\n    if(highlight==null)\n      highlight = list[0]\n    return list.filter(sent => highlight._id <= sent._id +this.windowSize && highlight._id >= sent._id -this.windowSize);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/is-next-sentence.ts","import { Injectable } from '@angular/core';\n// import { Config } from 'ionic-angular';\nimport { ConfigurationService } from \"ionic-configuration-service\";\nimport { Http , Headers, RequestOptionsArgs } from '@angular/http';\nimport { RequestOptions, Request, RequestMethod} from '@angular/http';\n// import { Sentence} from '../pages/annotate/conllu';\nimport 'rxjs/add/operator/map';\n\n\n/*\n  Generated class for the WordService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\nlet desc = {\"saveFile\":\"Convert to Conll then Save\",\n  \"syncConllU\":\"Convert to Conll\",\n  \"diactric\":\"Add a diactric\",\n  \"nav\":\"Move next/prev Word\",\n  \"undo\":\"Undo last action (move backward in action history)\",\n  \"redo\":\"Move forward in action history\",\n  \"segment\":\"Edit the form/Add new segments to the current word/Delete current segment\",\n  \"tag\":\"Assign current segment a new tag\",\n  \"tag_ma\":\"Ask a morphological analyser for help\",\n  \"tag_morphofeatures\":\"Assign morphological features\",\n  \"diac\":\"Mark the last character with a diacritic\",\n  \"more\":\"Show more less-frequent tags\"}\n\ninterface KeyboardJSON {\n  code : string\n  action : string\n  altKey: boolean\n  metaKey: boolean\n  ctrlKey: boolean\n  shiftKey: boolean\n  desc?: string\n  params : string[]\n  keys?: string[]\n}\n\ninterface TagsJSON {\n  mapFrom: string[]\n  tag: string\n  desc: string\n  count: number\n  fn: number\n  mapToConllU: string\n  mf: string[]\n  features: string[]\n}\n\nexport class ConfigJSON {\n      remote_repo : string =\"\";\n      isConlluHidden : boolean = false;\n      askMA : boolean = false;\n      askMemMA : boolean = false;\n      askGuider : boolean = false;\n      project : string =\"\";\n      hash : string =\"\";\n      language : string =\"qac\";\n      tagset: string =\"\";\n      rowlength: number = 7;\n      users: string[] = [];\n      debug: boolean = false;\n      keyboardShortcuts: KeyboardJSON[] = [];\n\n      MfVsPos:{} = {};\n      MfVsPos_upostag:boolean = true;\n      concordanceWindow:number = 5;\n      mf:{} = {};\n      isRtl:boolean = true;\n      useUD:boolean = true;\n      sync:boolean = true;\n      alltags : TagsJSON[] = [];\n      allxtags : string[] = [];\n      allutags : string[] = [];\n      onFeatSelect : { [id:string]: { [id:string]: string[] }} = {};\n      tags : { [id:string]: {tag:string,desc:string}} = {};\n      sentenceTags : any[] = [];\n      loaded: boolean = false\n      undoSize: number = 5\n      features: { [id:string]: {tag:string,desc:string}} = {};\n\n      constructor(data?: any){\n        if(data){\n            this.remote_repo = data.config.remote_repo\n            this.language = data.config.language\n            this.tagset = data.config.tagset\n            this.useUD = data.config.useUD\n            this.rowlength = data.config.rowlength\n            this.isRtl = data.config.isRtl\n            this.sync = data.config.sync\n            this.undoSize = data.config.undoSize\n            this.users = data.config.users\n            this.keyboardShortcuts = data.config.keyboardShortcuts\n            this.isConlluHidden = data.config.isConlluHidden\n            this.askMA = data.config.askMA\n            this.askMemMA = data.config.askMemMA\n            this.askGuider = data.config.askGuider\n            this.onFeatSelect = data.config.onFeatSelect\n            this.MfVsPos = data.config[\"MF.vs.POS\"] || data.config.MfVsPos\n            this.MfVsPos_upostag = data.config[\"MF.vs.POS_upostag\"] || data.config.MfVsPos_upostag\n\n            this.mf = data.config.mf\n            this.sentenceTags = data.config.sentenceTags\n            this.allutags = data.config.allutags\n\n            this.alltags = data.config.alltags\n          }\n      }\n      getFeature(key) : {tag:string,desc:string}{\n        return this.features[key] || {tag:\"N/A:\"+key, desc : \"n/a:\"+key}\n      }\n      // getFeatures(xpostag){\n      //   return this.alltags.find(x=>x.tag==this.xpostag)\n      // }\n      getXPosTag(key): {tag:string,desc:string}{\n        return this.tags[\"X:\"+key] || {tag:\"N/A:\"+key, desc : \"n/a:\"+key}\n      }\n\n      getUPosTag(key): {tag:string,desc:string}{\n        return this.tags[\"U:\"+key] || {tag:\"N/A:\"+key, desc : \"n/a:\"+key}\n      }\n}\n\n\n@Injectable()\nexport class ConfigService {\n\n  constructor(public http: Http,\n  \tpublic myconfig: ConfigurationService) {\n      this.config.default = new ConfigJSON()\n  }\n\n  config : {[id:string]:ConfigJSON } = {}\n\n\n  load(project:string, hash: string,) {\n\t  if (this.config[project]) {\n\t    // already loaded data\n\t    return Promise.resolve(this.config[project]);\n\t  }\n\t  // don't have the data yet\n\t  return new Promise<ConfigJSON>((resolve,reject) => {\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"get_config\",{\n\t     \tproject: project,\n\t     \thash: hash\n\t      },new RequestOptions({ withCredentials: true }))\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        if(data.ok){\n            var config = new ConfigJSON(data)\n            config.project = project\n            config.hash = hash\n            config.keyboardShortcuts.forEach(e=>{\n              e.keys = []\n              if(e.metaKey)\n                e.keys.push(\"⌘\")\n              if(e.shiftKey)\n                e.keys.push(\"⇧\")\n              if(e.altKey)\n                e.keys.push(\"⎇\")\n              if(!e.code) e.code = \"\"\n              var code = e.code\n                .replace(/^Key/,\"\")\n                .replace(\"ArrowLeft\",\"⇦\")\n                .replace(\"ArrowRight\",\"⇨\")\n                .replace(\"Enter\",\"⏎\")\n                if(code)\n                  e.keys.push(code)\n              let params = e.params ? e.params.join() : \"\"\n              if(e.code.indexOf(\"Digit\") ==0)\n                params = \"\"\n              if(e.code.indexOf(\"F\"+params) ==0)\n                params = \"\"\n                e.desc = desc[e.action+params] || desc[e.action] || e.action\n            })\n            config.alltags.forEach((xx,i,arr)=> {\n              arr[i].mapFrom = arr[i].mapFrom || [\"\"]\n            })\n\t        \tif(config.MfVsPos){\n\t\t        \tconfig.alltags.forEach((xx,i,arr)=> {\n                  arr[i].features = Object.keys(config.mf).filter(x=>config.MfVsPos[x].indexOf(config.MfVsPos_upostag ? xx.mapToConllU : xx.tag) >= 0)\n\t             })\n            }\n            else{\n              console.error(\"config['MF.vs.POS'] is missing\")\n            }\n            config.allxtags = config.alltags.map(x=>x.tag)\n            // config.allutags = data.config.alltags.map(x=>x.mapToConllU).sort().filter(function(el,i,a){return i==a.indexOf(el);}) // sort and unique\n\t\t        config.tags = {}\n            config.alltags.forEach(x=>config.tags[\"X:\"+x.tag]=x)\n            // config.allutags.forEach(x=>config.tags[\"U:\"+x.tag]=x)\n            config.tags[\"X:_\"]={tag:\"_\",desc:\"_\"}\n            config.tags[\"U:_\"]={tag:\"_\",desc:\"_\"}\n\n            config.features = {}\n            Object.keys(config.mf).forEach(k=>config.mf[k].forEach(v=>config.features[k+\"=\"+v.tag]=v))\n\n            this.config[project] = config\n\t        \tresolve(this.config[project]);\n\t        }\n\t        else\n\t        \t// if(data.default)\n\t        \t// \tthat.config.default = data.default\n\t        \treject(data.error)\n\t      });\n\t  });\n\t}\n\n  save(project:string, hash: string,config: ConfigJSON) {\n    config = JSON.parse(JSON.stringify(config))\n    delete config.hash\n\t  // don't have the data yet\n\t  return new Promise((resolve,reject) => {\n\n\t     this.http.post(this.myconfig.getValue(\"server\")+\"save_config\",{\n\t     \tproject: project,\n\t     \thash: hash,\n\t     \tconfig: config\n\t     },new RequestOptions({ withCredentials: true }))\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t        if(data.ok){\n\t        \tresolve();\n            config.isRtl = this.isRtl(project)\n\t        \tthis.config[project] = config\n\t        }\n\t        else\n\t        \treject(data.error)\n\t      });\n\t  });\n\t}\n\tgetConfig(project) : ConfigJSON{\n\t\treturn this.config[project] ? this.config[project] : this.config.default\n\t}\n\trtls = [\"arabic\",\"qac\"]\n\tisRtl(project){\n    if(this.getConfig(project).isRtl != undefined)\n      return this.getConfig(project).isRtl\n\t\treturn this.rtls.indexOf(this.getConfig(project).language) >= 0\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/config-service.ts","import { Component } from '@angular/core';\nimport { ToastController,ViewController,ModalController, NavController, NavParams } from 'ionic-angular';\nimport { ProjectService } from '../../providers/project-service';\nimport { DocsPage } from '../docs/docs';\n// import { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the ProjectsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-projects',\n  templateUrl: 'projects.html',\n})\nexport class ProjectsPage {\n\n  // public security = \"\"\n  public projects = []\n  // public validSecurity  = false\n\n  constructor(public navCtrl: NavController,\n  \tpublic navParams: NavParams,\n    private projectService: ProjectService,\n    // public storage: Storage,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController\n  \t) {\n  \t// this.storage.get(\"security\").then(v=>{\n  \t// \tthis.security = v\n\t  // \tif(this.security){\n  \t// \t\tthis.validSecurity = true\n  \t// \t\tthis.securityChanged()\n\t  // \t}\n\n  \t// });\n    this.list()\n  }\n\n  new_project = \"\"\n  create(){\n  \tthis.projectService.create(this.new_project)\n  \t\t.then((result:{ok:boolean,hash:string,project:string,error:string})=>{\n  \t\tif(result.ok){\n  \t\t\tthis.projects.push({\n  \t\t\t\tproject: result.project,\n  \t\t\t\thash: result.hash,\n  \t\t\t})\n  \t\t\t// this.storage.set(\"project_hash_\"+result.project,result.hash);\n  \t\t}\n  \t}).catch(e=>{\n              this.toastCtrl.create({\n            message: e.error,\n            duration: 3000,\n            position: \"top\"\n          }).present()\n\n    })\n  }\n  goto(project){\n    this.navCtrl.push(DocsPage,{\n      project: project.project,\n      hash: project.hash,\n    })\n  }\n  logout(){\n  \tthis.projectService.logout()\n    this.projects = []\n   let loginModal = this.modalCtrl.create(LoginModal,{},{\n       enableBackdropDismiss: false\n     });\n     loginModal.present();\n     loginModal.onDidDismiss(()=>{this.list()})\n\n  }\n  list(){\n  \tthis.projectService.list().then((result:{ok:boolean,projects:string[],error:string})=>{\n\t\t\tthis.projects = result.projects\n\t\t\t// this.validSecurity = true\n\t\t\t// this.storage.set(\"security\",this.security);\n\t\t\tif(result.projects.length == 0){\n\t\t\t\tthis.toastCtrl.create({\n\t          message: \"There is no projects created yet. Please create one now.\",\n\t          duration: 3000,\n\t          position: \"top\"\n\t        }).present()\n\t\t\t}\n  \t}).catch(error=>{\n        this.toastCtrl.create({\n            message: error,\n            duration: 3000,\n            position: \"top\"\n          }).present()\n       let loginModal = this.modalCtrl.create(LoginModal,{},{\n         enableBackdropDismiss: false\n       });\n       loginModal.present();\n       loginModal.onDidDismiss(()=>{this.list()})\n\n    })\n\n  }\n  ionViewDidLoad() {\n  }\n}\n\n\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginModal {\n\n username = \"\"\n password = \"\"\n constructor(public viewCtrl: ViewController, params: NavParams,private projectService: ProjectService,    public toastCtrl: ToastController) {\n   // console.log('UserId', params.get('userId'));\n   this.username = this.projectService.username\n }\n login() {\n    this.projectService.login(this.username,this.password)\n      .then((result:{ok:boolean,error:string})=>{\n        this.viewCtrl.dismiss({username:this.username})\n    })\n      .catch(e=>{\n          this.toastCtrl.create({\n            message: e,\n            duration: 3000,\n            position: \"top\"\n          }).present()\n\n    })\n }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/projects/projects.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Util {\n    static isTatweel(first, second) {\n        if (!first || !second)\n            return false;\n        if (first == \"ـ\" && second == \"ـ\")\n            return false;\n        if (\"دذاءؤرىةإأآو_\".indexOf(first) >= 0)\n            return false;\n        else if (\"ء_\".indexOf(second) >= 0)\n            return false;\n        else {\n            return true;\n        }\n    }\n    static reportError(error) {\n        if (Util.errors.indexOf(error) < 0) {\n            console.error(error);\n            Util.errors.push(error);\n        }\n    }\n}\nUtil.repairFields = function (fields, logger) {\n    if (logger === undefined) {\n        logger = Util.nullLogger;\n    }\n    if (fields.length > 10) {\n        logger('repair: discarding fields > 10');\n        fields = fields.slice(0, 10);\n    }\n    else {\n        logger('repair: filling in empty (\"_\") for missing fields');\n        for (let m = 0; m < 10 - fields.length; m++) {\n            fields.push('_');\n        }\n    }\n};\nUtil.strictFieldSplitter = function (line) {\n    // strict CoNLL format parsing: only split on TAB, no extra space.\n    if (line.length === 0) {\n        return [];\n    }\n    else {\n        return line.split('\\t');\n    }\n};\nUtil.looseFieldSplitter = function (line) {\n    // loose CoNLL format parsing: split on any space sequence, trim\n    // surrounding space.\n    line = line.trim();\n    if (line.length === 0) {\n        return [];\n    }\n    else {\n        return line.split(/\\s+/);\n    }\n};\nUtil.selectParsingMode = function (conll, log) {\n    // return whether to use strict mode parsing\n    // very simple heuristic: any TABs in the input trigger\n    // strict parsing, loose only if none present.\n    if (conll.indexOf('\\t') !== -1) {\n        // log('note: TAB found, parsing CoNLL-U in strict mode.')\n        return true;\n    }\n    else {\n        log('note: no TAB found, parsing CoNLL-U in loose mode.');\n        return false;\n    }\n};\nUtil.selectFieldSplitter = function (conll, log, strict) {\n    // return function to use for dividing lines into fields.\n    if (strict) {\n        return Util.strictFieldSplitter;\n    }\n    else {\n        return Util.looseFieldSplitter;\n    }\n};\nUtil.isComment = function (line) {\n    return line.length !== 0 && line[0] === '#';\n};\nUtil.hasSpace = function (s) {\n    return !!s.match(/\\s/);\n};\nUtil.nullLogger = function (message) {\n    return null;\n};\n/*\n * Return true iff given string only contains characters from a\n * right-to-left Unicode block and is not empty.\n */\nUtil.isRtl = function (s) {\n    // range from http://stackoverflow.com/a/14824756\n    return !!s.match(/^[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]+$/);\n};\n/*\n * Return given token with possible modifications to accommodate\n * issues in brat rendering of right-to-left text\n * (https://github.com/UniversalDependencies/docs/issues/52)\n */\nUtil.rtlFix = function (s) {\n    var prefix = '\\u02D1', suffix = '\\u02D1';\n    if (Util.isRtl(s)) {\n        s = prefix + s + suffix;\n    }\n    return s;\n};\n/*\n * Return a deep copy of the given object. Note: not particularly\n * efficient, and all fields must be serializable for this to work\n * correctly.\n */\nUtil.deepCopy = function (o) {\n    return JSON.parse(JSON.stringify(o));\n};\n/*\n * Regular expressions for various parts of the format.\n * See https://github.com/UniversalDependencies/docs/issues/33\n */\n// match single (feature, value[s]) pair in FEATS\nUtil.featureRegex = /^([A-Z0-9][a-zA-Z0-9]*(?:\\[[a-z0-9]+\\])?)=(_|[A-Z0-9][a-zA-Z0-9]*(?:,[A-Z0-9][a-zA-Z0-9]*)*)$/;\n// match single feature value in FEATS\nUtil.featureValueRegex = /^([A-Z0-9][a-zA-Z0-9]*|_)$/;\n// match single (head, deprel) pair in DEPS\nUtil.dependencyRegex = /^(\\d+(?:\\.\\d+)?):(.*)$/;\nUtil.errors = [];\nexports.Util = Util;\n//# sourceMappingURL=util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/abbander/dev/conllu-dao/dist/util.js\n// module id = 54\n// module chunks = 0"],"sourceRoot":""}